if(!Object['hasOwnProperty']('values')){Object['values']=function(c){return Object['keys'](c)['map'](function(d){return c[d];});};}if(!String['prototype']['startsWith']){String['prototype']['startsWith']=function(e,f){f=f||0x0;return this['indexOf'](e,f)===f;};}TDV['EventDispatcher']=function(){this['_handlers']={};};TDV['EventDispatcher']['prototype']['bind']=function(g,h){if(!(g in this['_handlers']))this['_handlers'][g]=[];this['_handlers'][g]['push'](h);};TDV['EventDispatcher']['prototype']['unbind']=function(i,j){if(i in this['_handlers']){var k=this['_handlers'][i]['indexOf'](j);if(k!=-0x1)this['_handlers'][i]['splice'](k,0x1);}};TDV['EventDispatcher']['prototype']['createNewEvent']=function(l){if(typeof Event==='function')return new Event(l);var m=document['createEvent']('Event');m['initEvent'](l,!![],!![]);return m;};TDV['EventDispatcher']['prototype']['dispatchEvent']=function(n){if(n['type']in this['_handlers']){var o=this['_handlers'][n['type']];for(var p=0x0;p<o['length'];++p){o[p]['call'](window,n);if(n['defaultPrevented'])break;}}};TDV['Tour']=function(q,r){TDV['EventDispatcher']['call'](this);this['player']=undefined;this['_settings']=q;this['_devicesUrl']=r;this['_playersPlayingTmp']=[];this['_isInitialized']=![];this['_isPaused']=![];this['_isRemoteSession']=![];this['_orientation']=undefined;this['_lockedOrientation']=undefined;this['_device']=undefined;Object['defineProperty'](this,'isInitialized',{'get':function(){return this['_isInitialized'];}});Object['defineProperty'](this,'isPaused',{'get':function(){return this['_isPaused'];}});this['_setupRemote']();};TDV['Tour']['DEVICE_GENERAL']='general';TDV['Tour']['DEVICE_MOBILE']='mobile';TDV['Tour']['DEVICE_IPAD']='ipad';TDV['Tour']['DEVICE_VR']='vr';TDV['Tour']['EVENT_TOUR_INITIALIZED']='tourInitialized';TDV['Tour']['EVENT_TOUR_LOADED']='tourLoaded';TDV['Tour']['EVENT_TOUR_ENDED']='tourEnded';TDV['Tour']['prototype']=new TDV['EventDispatcher']();TDV['Tour']['prototype']['dispose']=function(){if(!this['player'])return;if(this['_onHashChange']){window['removeEventListener']('hashchange',this['_onHashChange']);this['_onHashChange']=undefined;}if(this['_onKeyUp']){document['removeEventListener']('keyup',this['_onKeyUp']);this['_onKeyUp']=undefined;}if(this['_onBeforeUnload']){window['removeEventListener']('beforeunload',this['_onBeforeUnload']);this['_onBeforeUnload']=undefined;}var s=this['_getRootPlayer']();if(s!==undefined){s['stopTextToSpeech']();s['stopGlobalAudios']();}this['player']['delete']();this['player']=undefined;this['_isInitialized']=![];window['currentGlobalAudios']=undefined;window['pauseGlobalAudiosState']=undefined;window['currentPanoramasWithCameraChanged']=undefined;window['overlaysDispatched']=undefined;};TDV['Tour']['prototype']['load']=function(){if(this['player'])return;var t=function(w){if(w['name']=='begin'){var A=w['data']['source']['get']('camera');if(A&&A['get']('initialSequence')&&A['get']('initialSequence')['get']('movements')['length']>0x0)return;}if(w['sourceClassName']=='MediaAudio'||w['sourceClassName']=='Model3DCameraSequence'||this['_isInitialized'])return;this['_isInitialized']=!![];u['unbind']('preloadMediaShow',t,this,!![]);u['unbindOnObjectsOf']('PlayListItem','begin',t,this,!![]);u['unbind']('stateChange',t,this,!![]);if(this['_isPaused'])this['pause']();window['parent']['postMessage'](TDV['Tour']['EVENT_TOUR_LOADED'],'*');this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_LOADED']));};this['_setup']();this['_settings']['set'](TDV['PlayerSettings']['SCRIPT_URL'],this['_currentScriptUrl']);var u=this['player']=TDV['PlayerAPI']['create'](this['_settings']);u['bindOnObject']('rootPlayer','start',v,this,!![]);window['addEventListener']('message',function(B){var C=B['data'];if(C=='pauseTour')C='pause';else if(C=='resumeTour')C='resume';else return;this[C]['apply'](this);}['bind'](this));function v(D){u['unbindOnObject']('rootPlayer','start',v,this,!![]);var E=D['data']['source'];E['get']('data')['tour']=this;var F=window['navigator']['language']||window['navigator']['userLanguage']||'en';var G=E['get']('data')['locales']||{};var H=E['get']('data')['defaultLocale']||F;var I=this['locManager']=new TDV['Tour']['LocaleManager'](E,G,H,this['_settings']['get'](TDV['PlayerSettings']['QUERY_STRING_PARAMETERS']));E['get']('data')['localeManager']=I;var J=function(){var U=E['get']('data');if(!('updateText'in U)){U['updateText']=function(Y){var Z=Y[0x0]['split']('.');if(Z['length']==0x2){var a0=I['trans']['apply'](I,Y);var a1=Y[0x1]||E;if(typeof a1=='string'){var a2=a1['split']('.');a1=E[a2['shift']()];for(var a3=0x0;a3<a2['length']-0x1;++a3){if(a1!=undefined)a1='get'in a1?a1['get'](a2[a3]):a1[a2[a3]];}if(a1!=undefined){var a4=a2[a2['length']-0x1];if(Array['isArray'](a1)){for(var a5=0x0;a5<a1['length'];++a5){this['setValue'](a1[a5],a4,a0);}}else this['setValue'](a1,a4,a0);}}else{a1=a1[Z[0x0]];this['setValue'](a1,Z[0x1],a0);}}}['bind'](E);}var V=U['translateObjs'];var W=U['updateText'];var X=function(){for(var a6 in V){W(V[a6]);}};X();X();};this['locManager']['bind'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED'],J['bind'](this));var K=this['_getParams'](location['search']['substr'](0x1));K=E['mixObject'](K,this['_getParams'](location['hash']['substr'](0x1)));var L=K['language'];if(!L||!this['locManager']['hasLocale'](K['language'])){if(E['get']('data')['forceDefaultLocale'])L=H;else L=F;}this['setLocale'](L);var M=E['getByClassName']('HotspotPanoramaOverlay');for(var O=0x0,P=M['length'];O<P;++O){var Q=M[O];var R=Q['get']('data');if(!R)Q['set']('data',R={});R['defaultEnabledValue']=Q['get']('enabled');}this['_setMediaFromURL'](K,0x0);this['_updateParams'](K,![]);if(this['isMobile']()&&typeof this['_devicesUrl'][this['_device']]=='object'){var S=function(){if(!E['isCardboardViewMode']()&&this['_getOrientation']()!=this['_orientation']){this['reload'](!![]);return!![];}return![];};if(S['call'](this))return;var T=E['getByClassName']('PanoramaPlayer');for(var O=0x0;O<T['length'];++O){T[O]['bind']('viewModeChange',S,this);}E['bind']('orientationChange',S,this);}this['_onHashChange']=function(){var a7=this['_getParams'](location['hash']['substr'](0x1));this['_setMediaFromURL'](a7);this['_updateParams'](a7,!![]);}['bind'](this);this['_onKeyUp']=function(a8){switch(a8['key']['toLowerCase']()){case'u':this['updateDeepLink']();E['copyToClipboard'](location['href']);break;case'm':var a9=E['getByClassName']('MeasureModel3DObject');var aa=E['getActiveMediaWithViewer'](E['getMainViewer']());if(a9['length']>0x0&&aa['get']('class')=='Model3D'){E['startMeasurement'](null,a9[0x0]);}break;}}['bind'](this);this['_onBeforeUnload']=function(ab){E['stopTextToSpeech']();};window['addEventListener']('hashchange',this['_onHashChange']);window['addEventListener']('beforeunload',this['_onBeforeUnload']);document['addEventListener']('keyup',this['_onKeyUp']);E['bind']('tourEnded',function(){this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_ENDED']));},this,!![]);E['bind']('mute_changed',function(){if(this['get']('mute'))this['stopTextToSpeech']();},E,!![]);u['bind']('preloadMediaShow',t,this,!![]);u['bind']('stateChange',t,this,!![]);u['bindOnObjectsOf']('PlayListItem','begin',t,this,!![]);this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_INITIALIZED']));}};TDV['Tour']['prototype']['pause']=function(){this['_isPaused']=!![];if(!this['_isInitialized'])return;var ac=function(al){var am=al['source'];if(!this['_isPaused'])am['unbind']('stateChange',ac,this);else if(am['get']('state')=='playing'){am['pause']();}};var ad=this['player']['getByClassName']('PlayList');for(var ae=0x0,af=ad['length'];ae<af;ae++){var ag=ad[ae];var ah=ag['get']('selectedIndex');if(ah!=-0x1){var ai=ag['get']('items')[ah];var aj=ai['get']('player');if(aj&&aj['pause']){if(aj['get']('state')!='playing')aj['bind']('stateChange',ac,this);else aj['pause']();this['_playersPlayingTmp']['push'](aj);}}}var ak=this['_getRootPlayer']();ak['pauseGlobalAudios']();ak['quizPauseTimer']();};TDV['Tour']['prototype']['resume']=function(){this['_isPaused']=![];if(!this['_isInitialized'])return;while(this['_playersPlayingTmp']['length']){var an=this['_playersPlayingTmp']['pop']();an['play']();}var ao=this['_getRootPlayer']();ao['resumeGlobalAudios']();ao['quizResumeTimer']();};TDV['Tour']['prototype']['reload']=function(ap){this['_orientation']=this['_getOrientation']();if(ap)this['updateDeepLink']();this['dispose']();this['load']();};TDV['Tour']['prototype']['setMediaByIndex']=function(aq){var ar=this['_getRootPlayer']();if(ar!==undefined){return ar['setMainMediaByIndex'](aq);}};TDV['Tour']['prototype']['setMediaByName']=function(as){var at=this['_getRootPlayer']();if(at!==undefined){return at['setMainMediaByName'](as);}};TDV['Tour']['prototype']['triggerOverlayByName']=function(au,av,aw){var ax=this['_getRootPlayer']();if(!aw)aw='click';if(ax!==undefined&&aw){var ay=ax['getPanoramaOverlayByName'](au,av);if(ay){ax['triggerOverlay'](ay,aw);}}};TDV['Tour']['prototype']['focusOverlayByName']=function(az,aA){var aB=this['_getRootPlayer']();if(aB!==undefined){var aC=aB['getPanoramaOverlayByName'](az['get']('media'),aA);if(aC){var aD=aC['get']('class');var aE=aD=='VideoPanoramaOverlay'||aD=='QuadVideoPanoramaOverlay'?aC:aC['get']('items')[0x0];var aF,aG;aD=aE['get']('class');if(aD=='QuadVideoPanoramaOverlay'||aD=='QuadHotspotPanoramaOverlayImage'){var aH=aE['get']('vertices');var aI=0x0,aJ=aH['length'];aF=0x0;aG=0x0;while(aI<aJ){var aK=aH[aI++];var aL=aK['get']('yaw');if(aL<0x0)aL+=0x168;aF+=aL;aG+=aK['get']('pitch');}aF/=0x4;aG/=0x4;if(aF>0xb4)aF-=0x168;}else{aF=aE['get']('yaw');aG=aE['get']('pitch');}var aM=aB['getPlayListWithItem'](az);if(aM){var aN=function(){aB['setPanoramaCameraWithSpot'](aM,az,aF,aG);};if(!this['_isInitialized']){var aO=function(){az['unbind']('begin',aO,this);aN();};az['bind']('begin',aO,this);}else{aN();}}}}};TDV['Tour']['prototype']['setComponentsVisibilityByTags']=function(aP,aQ,aR){var aS=this['_getRootPlayer']();if(aS!==undefined){var aT=aS['getComponentsByTags'](aP,aR);for(var aU=0x0,aV=aT['length'];aU<aV;++aU){aT[aU]['set']('visible',aQ);}}};TDV['Tour']['prototype']['setOverlaysVisibilityByTags']=function(aW,aX,aY){var aZ=this['_getRootPlayer']();if(aZ!==undefined){var b0=aZ['getOverlaysByTags'](aW,aY);aZ['setOverlaysVisibility'](b0,aX);}};TDV['Tour']['prototype']['setOverlaysVisibilityByName']=function(b1,b2){var b3=this['_getRootPlayer']();if(b3!==undefined){var b4=b3['getActiveMediaWithViewer'](b3['getMainViewer']());var b5=[];for(var b6=0x0,b7=b1['length'];b6<b7;++b6){var b8=b3['getPanoramaOverlayByName'](b4,b1[b6]);if(b8)b5['push'](b8);}b3['setOverlaysVisibility'](b5,b2);}};TDV['Tour']['prototype']['setObjectsVisibilityByID']=function(b9,ba){var bb=this['_getRootPlayer']();if(bb!==undefined){var bc=bb['getActiveMediaWithViewer'](bb['getMainViewer']());if(bc['get']('class')=='Model3D'){bb['setObjectsVisibilityByID'](bc,b9,ba);}}};TDV['Tour']['prototype']['setModel3DVariant']=function(bd){var be=this['_getRootPlayer']();if(be!==undefined){var bf=be['getActiveMediaWithViewer'](be['getMainViewer']());if(bf['get']('class')=='Model3D'){bf['set']('variant',bd);}}};TDV['Tour']['prototype']['updateDeepLink']=function(){var bg=this['_getRootPlayer']();if(bg!==undefined){bg['updateDeepLink']({'includeCurrentView':!![],'includeCurrentVisibleHotspots':!![],'includeCurrentMeasureModel3DObjects':!![],'setHash':!![]});}};TDV['Tour']['prototype']['setLocale']=function(bh){var bi=this['_getRootPlayer']();if(bi!==undefined&&this['locManager']!==undefined){this['locManager']['setLocale'](bh);}};TDV['Tour']['prototype']['getLocale']=function(){var bj=this['_getRootPlayer']();return bj!==undefined&&this['locManager']!==undefined?this['locManager']['currentLocaleID']:undefined;};TDV['Tour']['prototype']['isMobile']=function(){return TDV['PlayerAPI']['mobile'];};TDV['Tour']['prototype']['isIPhone']=function(){return TDV['PlayerAPI']['device']==TDV['PlayerAPI']['DEVICE_IPHONE'];};TDV['Tour']['prototype']['isIPad']=function(){return TDV['PlayerAPI']['device']==TDV['PlayerAPI']['DEVICE_IPAD'];};TDV['Tour']['prototype']['isIOS']=function(){return this['isIPad']()||this['isIPhone']();};TDV['Tour']['prototype']['isMobileApp']=function(){return navigator['userAgent']['indexOf']('App/TDV')!=-0x1;};TDV['Tour']['prototype']['getNotchValue']=function(){var bk=document['documentElement'];bk['style']['setProperty']('--notch-top','env(safe-area-inset-top)');bk['style']['setProperty']('--notch-right','env(safe-area-inset-right)');bk['style']['setProperty']('--notch-bottom','env(safe-area-inset-bottom)');bk['style']['setProperty']('--notch-left','env(safe-area-inset-left)');var bl=window['getComputedStyle'](bk);return parseInt(bl['getPropertyValue']('--notch-top')||'0',0xa)||parseInt(bl['getPropertyValue']('--notch-right')||'0',0xa)||parseInt(bl['getPropertyValue']('--notch-bottom')||'0',0xa)||parseInt(bl['getPropertyValue']('--notch-left')||'0',0xa);};TDV['Tour']['prototype']['hasNotch']=function(){return this['getNotchValue']()>0x0;};TDV['Tour']['prototype']['_getOrientation']=function(){var bm=this['_getRootPlayer']();if(bm){return bm['get']('orientation');}else if(this['_lockedOrientation']){return this['_lockedOrientation'];}else{return TDV['PlayerAPI']['getOrientation']();}};TDV['Tour']['prototype']['_getParams']=function(bn){var bo={};bn['split']('&')['forEach'](function(bp){var bq=bp['split']('=')[0x0],br=decodeURIComponent(bp['split']('=')[0x1]);bo[bq['toLowerCase']()]=br;});return bo;};TDV['Tour']['prototype']['_getRootPlayer']=function(){return this['player']!==undefined?this['player']['getById']('rootPlayer'):undefined;};TDV['Tour']['prototype']['_setup']=function(){if(!this['_orientation'])this['_orientation']=this['_getOrientation']();this['_device']=this['_getDevice']();this['_currentScriptUrl']=this['_getScriptUrl']();if(this['isMobile']()){var bs=document['getElementById']('metaViewport');if(bs){var bt=this['_devicesUrl'][this['_device']];var bu=0x1;if(typeof bt=='object'&&this['_orientation']in bt&&this['_orientation']==TDV['PlayerAPI']['ORIENTATION_LANDSCAPE']||this['_device']==TDV['Tour']['DEVICE_GENERAL']){bu=bs['getAttribute']('data-tdv-general-scale')||0.5;}var bv=bs['getAttribute']('content');bv=bv['replace'](/initial-scale=(\d+(\.\d+)?)/,function(bw,bx){return'initial-scale='+bu;});bs['setAttribute']('content',bv);}}};TDV['Tour']['prototype']['_getScriptUrl']=function(){var by=this['_devicesUrl'][this['_device']];if(typeof by=='object'){if(this['_orientation']in by){by=by[this['_orientation']];}}return by;};TDV['Tour']['prototype']['_getDevice']=function(){var bz=TDV['Tour']['DEVICE_GENERAL'];if(!this['_isRemoteSession']&&this['isMobile']()){if(this['isIPad']()&&TDV['Tour']['DEVICE_IPAD']in this['_devicesUrl'])bz=TDV['Tour']['DEVICE_IPAD'];else if(TDV['Tour']['DEVICE_MOBILE']in this['_devicesUrl'])bz=TDV['Tour']['DEVICE_MOBILE'];}return bz;};TDV['Tour']['prototype']['_setMediaFromURL']=function(bA,bB){var bC=this['_getRootPlayer']();var bD=bC['getActivePlayerWithViewer'](bC['getMainViewer']());var bE=bD?bC['getMediaFromPlayer'](bD):undefined;var bF;if('media'in bA){var bG=bA['media'];var bH=Number(bG);bF=isNaN(bH)?this['setMediaByName'](bG):this['setMediaByIndex'](bH-0x1);}else if('media-index'in bA){bF=this['setMediaByIndex'](parseInt(bA['media-index'])-0x1);}else if('media-name'in bA){bF=this['setMediaByName'](decodeURIComponent(bA['media-name']));}if(bF==undefined&&bB!==undefined){bF=this['setMediaByIndex'](0x0);}if(bF!=undefined){var bI=bF['get']('player');var bJ=function(){if('trigger-overlay-name'in bA){this['triggerOverlayByName'](bF['get']('media'),bA['trigger-overlay-name'],bA['trigger-overlay-event']);}if('focus-overlay-name'in bA){this['focusOverlayByName'](bF,bA['focus-overlay-name']);}else if('yaw'in bA||'pitch'in bA){var bN=bC['getPlayListWithItem'](bF);if(bN){switch(bF['get']('class')){case'PanoramaPlayListItem':var bO=parseFloat(bA['yaw'])||undefined;var bP=parseFloat(bA['pitch'])||undefined;var bQ=parseFloat(bA['fov'])||undefined;bC['setPanoramaCameraWithSpot'](bN,bF,bO,bP,bQ);break;case'Model3DPlayListItem':var bR=['yaw','pitch','x','y','z','distance'];var bS={};for(var bT=0x0;bT<bR['length'];++bT){var bU=bR[bT];var bV=parseFloat(bA[bU]);if(!isNaN(bV))bS[bU]=bV;}bC['setModel3DCameraSpot'](bN,bF,bS);break;}}}}['bind'](this);if(bI){var bK=bI['get']('viewerArea')==bC['getMainViewer']();var bL=bC['getMediaFromPlayer'](bI);if(bK&&bE==bF['get']('media')||!bK&&bL==bF['get']('media')){bJ();return bF!=undefined;}}var bM=function(){bF['unbind']('begin',bM,this);bJ();};bF['bind']('begin',bM,bC);}return bF!=undefined;};TDV['Tour']['prototype']['_setupRemote']=function(){if(this['isMobile']()&&TDV['Remote']!=undefined){var bW=function(){var bX;var bY=function(){var c1=this['_getRootPlayer']();bX=c1['get']('lockedOrientation');c1['set']('lockedOrientation',this['_lockedOrientation']);}['bind'](this);this['_isRemoteSession']=!![];this['_lockedOrientation']=TDV['PlayerAPI']['ORIENTATION_LANDSCAPE'];if(this['_device']!=TDV['Tour']['DEVICE_GENERAL']){var bZ=function(){bY();this['unbind'](TDV['Tour']['EVENT_TOUR_INITIALIZED'],bZ);}['bind'](this);this['bind'](TDV['Tour']['EVENT_TOUR_INITIALIZED'],bZ);this['reload'](!![]);}else{bY();}var c0=function(){this['_isRemoteSession']=![];this['_getRootPlayer']()['set']('lockedOrientation',bX);TDV['Remote']['unbind'](TDV['Remote']['EVENT_CALL_END'],c0);var c2=this['_getScriptUrl']();if(this['_currentScriptUrl']!=c2)this['reload'](!![]);}['bind'](this);TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_END'],c0);}['bind'](this);TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_BEGIN'],bW);}};TDV['Tour']['prototype']['_updateParams']=function(c3,c4){if(c4&&'language'in c3){var c5=c3['language'];if(this['locManager']['hasLocale'](c5)){this['setLocale'](c5);}}var c6=function(c8,c9,ca){var cb=c9['split'](',');for(var cc=0x0,cd=cb['length'];cc<cd;++cc){c8['call'](this,cb[cc]['split']('+'),ca,'and');}};var c7=function(ce){var cf=this['_getRootPlayer']();var cg=cf['getActiveMediaWithViewer'](cf['getMainViewer']());if(cg['get']('class')!='Model3D')return;var ch=cg['get']('objects');var ci=[];ce['split']('+')['forEach'](function(cj){var ck=cj['split'](',');var cl=ck['shift']();if(cl in cf&&ck['length']%0x3==0x0){var cm=ck[0x0],cn=ck[0x1],co=ck[0x2];var cp=ch['some'](function(cu){return cu['get']('class')=='MeasureModel3DObject'&&cm==cu['get']('x')&&cn==cu['get']('y')&&co==cu['get']('z');});if(cp)return;var cq=[];var cr=_cloneMeasureModel3DObject['call'](this,this[cl]);cr['set']('mode','view');cr['set']('x',cm);cr['set']('y',cn);cr['set']('z',co);for(var cs=0x3;cs<ck['length'];cs+=0x3){var ct=this['createInstance']('MeasureModel3DObjectPoint');ct['set']('x',ck[cs]);ct['set']('y',ck[cs+0x1]);ct['set']('z',ck[cs+0x2]);cq['push'](ct);}cr['set']('points',cq);ci['push'](cr);}}['bind'](cf));if(ci['length']>0x0){cg['set']('objects',ch['concat'](ci));}};if('hide-components-tags'in c3||'hct'in c3)c6['call'](this,this['setComponentsVisibilityByTags'],c3['hide-components-tags']||c3['hct'],![]);if('show-components-tags'in c3||'sct'in c3)c6['call'](this,this['setComponentsVisibilityByTags'],c3['show-components-tags']||c3['sct'],!![]);if('hide-overlays-tags'in c3||'hot'in c3)c6['call'](this,this['setOverlaysVisibilityByTags'],c3['hide-overlays-tags']||c3['hot'],![]);if('show-overlays-tags'in c3||'sot'in c3)c6['call'](this,this['setOverlaysVisibilityByTags'],c3['show-overlays-tags']||c3['sot'],!![]);if('hide-overlays-names'in c3||'hon'in c3)this['setOverlaysVisibilityByName'](decodeURIComponent(c3['hide-overlays-names']||c3['hon'])['split'](','),![]);if('show-overlays-names'in c3||'son'in c3)this['setOverlaysVisibilityByName'](decodeURIComponent(c3['show-overlays-names']||c3['son'])['split'](','),!![]);if('show-object-ids'in c3||'sobjids'in c3)this['setObjectsVisibilityByID'](decodeURIComponent(c3['show-object-ids']||c3['sobjids'])['split'](','),!![]);if('hide-object-ids'in c3||'hobjids'in c3)this['setObjectsVisibilityByID'](decodeURIComponent(c3['hide-object-ids']||c3['hobjids'])['split'](','),![]);if('variant'in c3)this['setModel3DVariant'](decodeURIComponent(c3['variant']));if('measures'in c3)c7['call'](this,decodeURIComponent(c3['measures']['split'](';')));};TDV['Tour']['LocaleManager']=function(cv,cw,cx,cy){TDV['EventDispatcher']['call'](this);this['rootPlayer']=cv;this['locales']={};this['defaultLocale']=cx;this['queryParam']=cy;this['currentLocaleMap']={};this['currentLocaleID']=undefined;for(var cz in cw){this['registerLocale'](cz,cw[cz]);}};TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']='localeChanged';TDV['Tour']['LocaleManager']['prototype']=new TDV['EventDispatcher']();TDV['Tour']['LocaleManager']['prototype']['registerLocale']=function(cA,cB){var cC=[cA,cA['split']('-')[0x0]];for(var cD=0x0;cD<cC['length'];++cD){cA=cC[cD];if(!(cA in this['locales'])){this['locales'][cA]=cB;}}};TDV['Tour']['LocaleManager']['prototype']['unregisterLocale']=function(cE){delete this['locales'][cE];if(cE==this['currentLocaleID']){this['setLocale'](this['defaultLocale']);}};TDV['Tour']['LocaleManager']['prototype']['hasLocale']=function(cF){return cF in this['locales'];};TDV['Tour']['LocaleManager']['prototype']['setLocale']=function(cG){var cH;var cI=cG['split']('-')[0x0];var cJ=[cG,cI];for(var cK=0x0;cK<cJ['length'];++cK){var cM=cJ[cK];if(cM in this['locales']){cH=cM;break;}}if(cH===undefined){for(var cM in this['locales']){if(cM['indexOf'](cI)==0x0){cH=cM;break;}}}if(cH===undefined){cH=this['defaultLocale'];}var cN=this['locales'][cH];if(cN!==undefined&&this['currentLocaleID']!=cH){this['currentLocaleID']=cH;var cO=this;if(typeof cN=='string'){var cP=new XMLHttpRequest();cP['onreadystatechange']=function(){if(cP['readyState']==0x4){if(cP['status']==0xc8){cO['locales'][cH]=cO['currentLocaleMap']=cO['_parsePropertiesContent'](cP['responseText']);cO['dispatchEvent'](cO['createNewEvent'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']));}else{throw cN+'\x20can\x27t\x20be\x20loaded';}}};var cQ=cN;if(this['queryParam'])cQ+=(cQ['indexOf']('?')==-0x1?'?':'&')+this['queryParam'];cP['open']('GET',cQ);cP['send']();}else{this['currentLocaleMap']=cN;this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']));}}};TDV['Tour']['LocaleManager']['prototype']['trans']=function(cR){function cS(cW){return/^\d+$/['test'](cW);}var cT=this['currentLocaleMap'][cR];if(cT&&arguments['length']>0x2){var cU=typeof arguments[0x2]=='object'?arguments[0x2]:undefined;var cV=arguments;cT=cT['replace'](/\{\{([\w _\-\.]+)\}\}/g,function(cX,cY){if(cS(cY))cY=cV[parseInt(cY)+0x1];else if(cU!==undefined)cY=cU[cY];if(typeof cY=='string')cY=this['currentLocaleMap'][cY]||cY;else if(typeof cY=='function')cY=cY['call'](this['rootPlayer']);return cY!==undefined?cY:'';}['bind'](this));}return cT;};TDV['Tour']['LocaleManager']['prototype']['_parsePropertiesContent']=function(cZ){cZ=cZ['replace'](/(^|\n)#[^\n]*/g,'');var d0={};var d1=cZ['split']('\x0a');for(var d2=0x0,d3=d1['length'];d2<d3;++d2){var d4=d1[d2]['trim']();if(d4['length']==0x0){continue;}var d5=d4['indexOf']('=');if(d5==-0x1){console['error']('Locale\x20parser:\x20Invalid\x20line\x20'+d2);continue;}var d6=d4['substr'](0x0,d5)['trim']();var d7=d4['substr'](d5+0x1)['trim']();var d8;while((d8=d7['lastIndexOf']('\x5c'))!=-0x1&&d8==d7['length']-0x1&&++d2<d3){d7=d7['substr'](0x0,d7['length']-0x2);d4=d1[d2];if(d4['length']==0x0)break;d7+='\x0a'+d4;d7=d7['trim']();}d0[d6]=d7;}return d0;};TDV['Tour']['HistoryData']=function(d9){this['playList']=d9;this['list']=[];this['pointer']=-0x1;};TDV['Tour']['HistoryData']['prototype']['add']=function(da){if(this['pointer']<this['list']['length']&&this['list'][this['pointer']]==da){return;}++this['pointer'];this['list']['splice'](this['pointer'],this['list']['length']-this['pointer'],da);};TDV['Tour']['HistoryData']['prototype']['back']=function(){if(!this['canBack']())return;this['playList']['set']('selectedIndex',this['list'][--this['pointer']]);};TDV['Tour']['HistoryData']['prototype']['forward']=function(){if(!this['canForward']())return;this['playList']['set']('selectedIndex',this['list'][++this['pointer']]);};TDV['Tour']['HistoryData']['prototype']['canBack']=function(){return this['pointer']>0x0;};TDV['Tour']['HistoryData']['prototype']['canForward']=function(){return this['pointer']>=0x0&&this['pointer']<this['list']['length']-0x1;};function _getObject(db,dc){return typeof dc=='string'?db[dc['replace']('this.','')]:dc;}function _initModels(){var dd=this['getByClassName']('Model3D');dd['forEach'](function(de){var df=de['get']('data');var dg=df['panoramaLocations'];if(dg){dg['forEach'](function(dh){dh=_getObject(this,dh);var di=dh['get']('data');var dj=_getObject(this,di['panorama']);dj['set']('modelLocations',(dj['get']('modelLocations')||[])['concat'](dh));}['bind'](this));}this['getPlayListItems'](de)['forEach'](function(dk){_initModel3DItem['call'](this,dk);}['bind'](this));}['bind'](this));}function _initModel3DItem(dl){var dm=dl['get']('player');if(!dm)return;var dn=dm['get']('viewerArea');if(!dn)return;var dp=dl['get']('media');var dq;dl['bind']('begin',function(){_initModel['call'](this,dp);dq=dn['get']('doubleClickAction');dn['set']('doubleClickAction','none');this['getCurrentPlayers']()['forEach'](function(dr){if(dr['get']('class')=='PanoramaPlayer'&&dr['get']('viewerArea')==dn){dr['set']('model3DPlayer',dm);}});},this);dl['bind']('stop',function(){dn['set']('doubleClickAction',dq);},this);}function _initModel(ds){var dt=ds['get']('data');if(!dt)ds['set']('data',dt={});if(!dt['panoramaLocations']||dt['isInitialized']||!ds['get']('isLoaded'))return;var du=0xb4/Math['PI'];var dv=ds['get']('worldUnitToMeters')||0x1;var dw=dt['maxDistanceObjectsVisible']||0x0;var dx=dt['panoramaLocations'];var dy=[];var dz=this['get']('data')['surfaceSelectionHotspotMode'];var dA=dz=='hotspotEnabled';dx['forEach'](function(dH){dH=_getObject(this,dH);var dI=dH['get']('data');var dJ=ds['getDistanceToFloor']([dH['get']('x'),dH['get']('y'),dH['get']('z')]);var dK=_getObject(this,dI['panorama']);var dL=dx['filter'](function(dU){var dV=_getObject(this,_getObject(this,dU)['get']('data'));return!dV['excludeAsHotspotPanorama']&&dK!=dV['panorama'];}['bind'](this))['map'](function(dW){dW=_getObject(this,dW);var dX=dW['get']('data');var dY=!!dX['excludeSurfaceSelectionModel'];var dZ=dW['get']('x')-dH['get']('x'),e0=dW['get']('y')-dH['get']('y'),e1=dW['get']('z')-dH['get']('z');var e2=Math['atan2'](dZ,-e1)*du;var e3=Math['atan2'](e0,Math['sqrt'](dZ*dZ+e1*e1))*du;var e4=Math['sqrt'](dZ*dZ+e0*e0+e1*e1);var e5=ds['getDistanceToFloor']([dW['get']('x'),dW['get']('y'),dW['get']('z')]);if(dJ!==undefined&&e5!==undefined)e0=e5-dJ;var e6=Math['sqrt'](dZ*dZ+e0*e0+e1*e1);return{'yaw':e2,'pitch':e3,'width':dX['width'],'height':dX['height'],'opacity':dX['opacity'],'anchorX':dX['anchorX']?dX['anchorX']:0.5,'anchorY':dX['anchorY']?dX['anchorY']:0.5,'transparentAreaActive':!!dX['transparentAreaActive'],'actions':dX['actions'],'position':{'x':dW['get']('x'),'y':dW['get']('y'),'z':dW['get']('z')},'toolTip':dX['toolTip'],'image':_getObject(this,dX['image']),'distance':e4*dv,'floorDistance':e6*dv,'panorama':_getObject(this,dX['panorama']),'backwardYaw':e2-0xb4-dW['get']('yaw'),'excludeSurfacePanorama':dY};}['bind'](this));dL['sort'](function(e7,e8){return e7['distance']-e8['distance'];});var dM=[],dN=(dK['get']('adjacentPanoramas')||[])['concat']();var dO=ds['get']('maxNearestObjectsVisible');var dP=dt['showOnlyHotspotsLineSightInPanoramas'];var dQ={'x':dH['get']('x'),'y':dH['get']('y'),'z':dH['get']('z')};dL['forEach'](function(e9){if(e9['panorama']==dK||dO>0x0&&dM['length']>=dO||dw>0x0&&e9['distance']>dw||dP&&ds['testIntersection'](dQ,e9['position']))return;var ea=dC['call'](this,e9['panorama'],e9['yaw']-dH['get']('yaw'),e9['pitch'],e9['width'],e9['height'],e9['anchorX'],e9['anchorY'],e9['opacity'],e9['transparentAreaActive'],e9['image'],dA&&!e9['excludeSurfacePanorama']);var eb=dD['call'](this,e9['panorama'],e9['yaw']-dH['get']('yaw'),e9['backwardYaw'],e9['floorDistance'],!e9['excludeSurfacePanorama']);dM['push'](ea);var ec=dN['findIndex'](function(ef){return ef['get']('panorama')==e9['panorama'];});if(ec!=-0x1)dN['splice'](ec,0x1);dN['push'](eb);var ed=ea['get']('areas')[0x0];if(e9['toolTip'])ed['set']('toolTip',e9['toolTip']);ed['bind']('click',dB['bind'](this,dK,e9['panorama'],ds,!![]),this);eb['bind']('select',dB['bind'](this,dK,e9['panorama'],ds,!![]),this);var ee=e9['actions'];if(ee){dG['call'](this,ea,ee);if('click'in ee)eb['bind']('select',new Function('event',ee['click']),this);}}['bind'](this));dK['set']('overlays',(dK['get']('overlays')||[])['concat'](dM));dK['set']('adjacentPanoramas',dN);var dR=!ds['get']('surfaceSelectionEnabled')||!!dI['excludeSurfaceSelectionModel'];var dS;if(dR){dS=dE['call'](this,dH['get']('x'),dH['get']('y'),dH['get']('z'),dI['width'],dI['height'],dI['anchorX']?dI['anchorX']:0.5,dI['anchorY']?dI['anchorY']:0.5,dI['opacity'],!!dI['transparentAreaActive'],dt['showOnlyHotspotsLineSight'],_getObject(this,dI['image']));dS['set']('id','sprite_'+dH['get']('id'));dS['set']('translationLineColor',dI['translationLineColor']!=null?dI['translationLineColor']:'#ffffff');dS['set']('translationLineOpacity',dI['translationLineOpacity']!=null?dI['translationLineOpacity']:0x1);dS['set']('translationLineVisible',dI['translationLineVisible']!=null?dI['translationLineVisible']:![]);dS['set']('translationLineWidth',dI['translationLineWidth']!=null?dI['translationLineWidth']:0x1);dS['set']('translationLength',dI['translationLength']!=null?dI['translationLength']:dt['showOnlyHotspotsLineSight']&&(dI['translationY']==null||dI['translationY']==0x0)?dI['height']/0x2:undefined);dS['set']('translationX',dI['translationX']!=null?dI['translationX']:0x0);dS['set']('translationY',dI['translationY']!=null&&dI['translationY']!=0x0?dI['translationY']:dt['showOnlyHotspotsLineSight']?0x1:0x0);dS['set']('translationZ',dI['translationZ']!=null?dI['translationZ']:0x0);if(dI['toolTip'])dS['set']('toolTip',dI['toolTip']);}else dS=dF['call'](this,dH['get']('x'),dH['get']('y'),dH['get']('z'));dI['object']=dS;if(dI['tags']!==undefined)dS['get']('data')['tags']=dI['tags'];if(dI['enabled']!==undefined)dS['set']('enabled',dI['enabled']);dS['get']('data')['location']=dH;var dT=dI['actions'];if(dT){dG['call'](this,dS,dT);}dS['bind']('click',dB['bind'](this,ds,dK,ds,![]),this);dy['push'](dS);}['bind'](this));ds['set']('objects',(ds['get']('objects')||[])['concat'](dy));dt['isInitialized']=!![];function dB(eg,eh,ei,ej){var ek=this['getPlayListsWithMedia'](eg,!![])['filter'](function(er){return this['getMediaFromPlayer'](er['get']('items')[er['get']('selectedIndex')]['get']('player'))==eg;}['bind'](this));if(ek['length']==0x0)return;var el=this['getPlayListItemByMedia'](ek[0x0],eg);var em=el['get']('player')['get']('viewerArea');var en;this['getPlayListsWithMedia'](eh)['forEach'](function(es){var et=this['getPlayListItemByMedia'](es,eh);if(et['get']('player')['get']('viewerArea')==em){if(ej&&el['get']('player')['get']('viewerArea')['get']('translationTransitionEnabled')){eo();et['bind']('begin',eq,this);}es['set']('selectedIndex',es['get']('items')['indexOf'](et));}}['bind'](this));function eo(){en=ei['get']('objects')['filter'](function(eu){var ev=eu['get']('data');return ev&&ev['location']!==undefined;});en['forEach'](function(ew){ew['set']('enabled',![]);});}function ep(){en['forEach'](function(ex){ex['set']('enabled',!![]);});}function eq(ey){ey['source']['unbind']('begin',eq,this);ep();}}function dC(ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ){var eK=_createInstanceFromObj(this,{'class':'HotspotPanoramaOverlay','useHandCursor':!![],'enabledInSurfaceSelection':eJ,'areas':[{'class':'HotspotPanoramaOverlayArea','mapColor':eH?'any':'image'}],'items':[{'class':'FlatHotspotPanoramaOverlayImage','yaw':eA,'pitch':eB,'width':eC,'height':eD,'offsetX':eE*eC,'offsetY':eF*eD,'opacity':eG!=undefined?eG:0x1}]});eK['get']('items')[0x0]['set']('image',eI);return eK;}function dD(eL,eM,eN,eO,eP){return _createInstanceFromObj(this,{'class':'AdjacentPanorama','panorama':'this.'+eL['get']('id'),'backwardYaw':eN,'yaw':eM,'distance':eO,'enabledInSurfaceSelection':eP});}function dE(eQ,eR,eS,eT,eU,eV,eW,eX,eY,eZ,f0){var f1=_createInstanceFromObj(this,{'class':'SpriteModel3DObject','x':eQ,'y':eR,'z':eS,'anchorX':eV,'anchorY':eW,'depthTest':eZ,'transparentAreaActive':eY,'hideBasedOnDistance':!![],'width':eT,'height':eU,'opacity':eX!=undefined?eX:0x1,'data':{}});f1['set']('image',f0);return f1;}function dF(f2,f3,f4){return _createInstanceFromObj(this,{'class':'SurfaceReticleModel3DObject','x':f2,'y':f3,'z':f4,'depthTest':![],'data':{}});}function dG(f5,f6){Object['keys'](f6)['forEach'](function(f7){if(f5['hasEvent'](f7))f5['bind'](f7,new Function('event',f6[f7]),this);}['bind'](this));}}function _findLocationWithPanorama(f8){var f9=this['getByClassName']('Model3D');for(var fa=0x0,fb=f9['length'];fa<fb;++fa){var fc=f9[fa];var fd=fc['get']('data');if(fd&&fd['panoramaLocations']){var fe=fd['panoramaLocations']['find'](function(ff){ff=_getObject(this,ff);return _getObject(this,ff['get']('data')['panorama'])==f8;}['bind'](this));if(fe)return _getObject(this,fe);}}return undefined;}function _getPlayersWithViewer(fg){var fh=this['getCurrentPlayers']();var fi=fh['length'];while(fi-->0x0){var fj=fh[fi];if(fj['get']('viewerArea')!=fg){fh['splice'](fi,0x1);}}return fh;}function _createInstance(fk,fl,fm){var fn=fk['createInstance'](fl);if(fm){fn['set']('id',fm);fk[fm]=fn;}return fn;}function _createInstanceFromObj(fo,fp){return fq(fp);function fq(fr,fs){if(typeof fr=='object'){if('class'in fr){try{fs=_createInstance(fo,fr['class'],fr['id']);}catch(fw){fs=fr;}}else{fs=fr;}}var ft=function(fx,fy){if('set'in fs)fs['set'](fx,fy);else fs[fx]=fy;};for(var fu in fr){var fv=fr[fu];if(typeof fv=='object'&&fv!==null)ft(fu,fq(fv,fs));else if(typeof fv=='string'&&fv['indexOf']('this.')==0x0)ft(fu,fo[fv['replace']('this.','')]);else ft(fu,fv);}return fs;}}TDV['Tour']['Script']=function(){};TDV['Tour']['Script']['assignObjRecursively']=function(fz,fA){for(var fB in fz){var fC=fz[fB];if(typeof fC=='object'&&fC!==null)this['assignObjRecursively'](fz[fB],fA[fB]||(fA[fB]={}));else fA[fB]=fC;}return fA;};TDV['Tour']['Script']['autotriggerAtStart']=function(fD,fE,fF){var fG=function(fH){fE();if(fF==!![])fD['unbind']('change',fG,this);};fD['bind']('change',fG,this);};TDV['Tour']['Script']['changeBackgroundWhilePlay']=function(fI,fJ,fK){var fL=function(){fM['unbind']('stop',fL,this);if(fK==fO['get']('backgroundColor')&&fR==fO['get']('backgroundColorRatios')){fO['set']('backgroundColor',fP);fO['set']('backgroundColorRatios',fQ);}};var fM=fI['get']('items')[fJ];var fN=fM['get']('player');var fO=fN['get']('viewerArea');var fP=fO['get']('backgroundColor');var fQ=fO['get']('backgroundColorRatios');var fR=[0x0];if(fK!=fP||fR!=fQ){fO['set']('backgroundColor',fK);fO['set']('backgroundColorRatios',fR);fM['bind']('stop',fL,this);}};TDV['Tour']['Script']['changeOpacityWhilePlay']=function(fS,fT,fU){var fV=function(){fW['unbind']('stop',fV,this);if(fZ==fY['get']('backgroundOpacity')){fY['set']('opacity',fZ);}};var fW=fS['get']('items')[fT];var fX=fW['get']('player');var fY=fX['get']('viewerArea');var fZ=fY['get']('backgroundOpacity');if(fU!=fZ){fY['set']('backgroundOpacity',fU);fW['bind']('stop',fV,this);}};TDV['Tour']['Script']['changePlayListWithSameSpot']=function(g0,g1){var g2=g0['get']('selectedIndex');if(g2>=0x0&&g1>=0x0&&g2!=g1){var g3=g0['get']('items')[g2];var g4=g0['get']('items')[g1];var g5=g3['get']('player');var g6=g4['get']('player');if((g5['get']('class')=='PanoramaPlayer'||g5['get']('class')=='Video360Player')&&(g6['get']('class')=='PanoramaPlayer'||g6['get']('class')=='Video360Player')){var g7=this['clonePanoramaCamera'](g4['get']('camera'));this['setCameraSameSpotAsMedia'](g7,g3['get']('media'));var g8=g7['get']('initialPosition');if(g8['get']('yaw')==undefined||g8['get']('pitch')==undefined||g8['get']('hfov')==undefined)return;this['startPanoramaWithCamera'](g4['get']('media'),g7);}}};TDV['Tour']['Script']['clone']=function(g9,gb){var gc=this['rootPlayer']['createInstance'](g9['get']('class'));var gd=g9['get']('id');if(gd){var ge=gd+'_'+Math['random']()['toString'](0x24)['substring'](0x2,0xf);gc['set']('id',ge);this[ge]=gc;}for(var gf=0x0;gf<gb['length'];++gf){var gg=gb[gf];var gh=g9['get'](gg);if(gh!=null)gc['set'](gg,gh);}return gc;};TDV['Tour']['Script']['cloneBindings']=function(gi,gj,gk){var gl=gi['getBindings'](gk);for(var gm=0x0;gm<gl['length'];++gm){var gn=gl[gm];if(typeof gn=='string')gn=new Function('event',gn);gj['bind'](gk,gn,this);}};TDV['Tour']['Script']['clonePanoramaCamera']=function(go){var gp=this['clone'](go,['manualRotationSpeed','manualZoomSpeed','automaticRotationSpeed','automaticZoomSpeed','timeToIdle','sequences','draggingFactor','hoverFactor']);var gq=['initialSequence','idleSequence'];for(var gr=0x0;gr<gq['length'];++gr){var gs=gq[gr];var gt=go['get'](gs);if(gt){var gu=this['clone'](gt,['mandatory','repeat','restartMovementOnUserInteraction','restartMovementDelay']);gp['set'](gs,gu);var gv=gt['get']('movements');var gw=[];var gx=['easing','duration','hfovSpeed','pitchSpeed','yawSpeed','path','stereographicFactorSpeed','targetYaw','targetPitch','targetHfov','targetStereographicFactor','hfovDelta','pitchDelta','yawDelta'];for(var gy=0x0;gy<gv['length'];++gy){var gz=gv[gy];var gA=this['clone'](gz,gx);var gB=gz['getBindings']('end');if(gB['length']>0x0){for(var gC=0x0;gC<gB['length'];++gC){var gD=gB[gC];if(typeof gD=='string'){gD=gD['replace'](go['get']('id'),gp['get']('id'));gD=new Function('event',gD);gA['bind']('end',gD,this);}}}gw['push'](gA);}gu['set']('movements',gw);}}return gp;};TDV['Tour']['Script']['copyObjRecursively']=function(gE){var gF={};for(var gG in gE){var gH=gE[gG];if(typeof gH=='object'&&gH!==null)gF[gG]=this['copyObjRecursively'](gE[gG]);else gF[gG]=gH;}return gF;};TDV['Tour']['Script']['copyToClipboard']=function(gI){if(navigator['clipboard']){navigator['clipboard']['writeText'](gI);}else{var gJ=document['createElement']('textarea');gJ['value']=gI;gJ['style']['position']='fixed';document['body']['appendChild'](gJ);gJ['focus']();gJ['select']();try{document['execCommand']('copy');}catch(gK){}document['body']['removeChild'](gJ);}};TDV['Tour']['Script']['createTween']=function(gL,gM,gN,gO,gP){var gQ=this['rootPlayer']['createInstance']('Effect');var gR=this['get']('data')['tweensState'];if(!gR){this['get']('data')['tweensState']=gR={};}var gS='get'in gL&&typeof gL['get']==='function';var gT=(gS&&gL['get']('id')?gL['get']('id'):(Math['random']()+0x1)['toString'](0x24)['substring'](0x2))+'_';var gU={};for(var gV in gM){var gW=gM[gV];if(gV['startsWith']('on')&&(typeof gW==='function'||typeof gW==='string')){var gX=gV['slice'](0x2);if(typeof gW==='string')gW=eval('('+gW+')');gQ['bind'](gX['charAt'](0x0)['toLowerCase']()+gX['slice'](0x1),gW,this);}else if(typeof gW==='string'&&gW['startsWith']('#')){var gY=parseInt('0x'+(gS?gL['get'](gV)['slice'](0x1):gL[gV]['slice'](0x1)));var gZ=parseInt('0x'+gW['slice'](0x1));gU[gV]={'color':!![],'initialRGB':[gY>>0x10&0xff,gY>>0x8&0xff,gY&0xff],'finalRGB':[gZ>>0x10&0xff,gZ>>0x8&0xff,gZ&0xff]};gR[gT+gV]=gQ;}else{gU[gV]=gS?gL['get'](gV):gL[gV];if(gV=='yaw'&&Math['abs'](gW-gU[gV])>0xb4)gU[gV]=gU[gV]+(gW>gU[gV]?0x168:-0x168);gR[gT+gV]=gQ;}}gQ['set']('duration',(gN||0x0)*0x3e8);gQ['set']('easing',gO||'cubic_in_out');gQ['set']('animationDirection',gP||'normal');gQ['bind']('end',function(){for(var h0 in gU){if(gR[gT+h0]==gQ)delete gR[gT+h0];}this['disposeInstance'](gQ);},this);gQ['bind']('frame',function(){var h1=gQ['getPosition']();for(var h2 in gU){var h3=gU[h2];if(gR[gT+h2]!=gQ)continue;if(typeof h3==='object'&&'color'in h3){var h4=Math['round'](h3['initialRGB'][0x0]+(h3['finalRGB'][0x0]-h3['initialRGB'][0x0])*h1);var h5=Math['round'](h3['initialRGB'][0x1]+(h3['finalRGB'][0x1]-h3['initialRGB'][0x1])*h1);var h6=Math['round'](h3['initialRGB'][0x2]+(h3['finalRGB'][0x2]-h3['initialRGB'][0x2])*h1);h3='#'+((0x1<<0x18)+(h4<<0x10)+(h5<<0x8)+h6)['toString'](0x10)['slice'](0x1);}else{h3=h3+(gM[h2]-h3)*h1;}if(gS)gL['set'](h2,h3);else gL[h2]=h3;}},this);return gQ;};TDV['Tour']['Script']['executeFunctionWhenChange']=function(h7,h8,h9,ha){var hb=undefined;var hc=function(hg){if(hg['data']['previousSelectedIndex']==h8){if(ha)ha['call'](this);if(h9&&hb)hb['unbind']('end',h9,this);h7['unbind']('change',hc,this);}};if(h9){var hd=h7['get']('items')[h8];var he=hd['get']('class');if(he=='PanoramaPlayListItem'||he=='Model3DPlayListItem'){var hf=hd['get']('camera');if(hf!=undefined){hb=hf['get']('initialSequence');if(hb==undefined)hb=hf['get']('idleSequence');}}else{hb=hd['get']('media');}if(hb){hb['bind']('end',h9,this);}}h7['bind']('change',hc,this);};TDV['Tour']['Script']['executeJS']=function(hh){try{eval(hh);}catch(hi){console['log']('Javascript\x20error:\x20'+hi);console['log']('\x20\x20\x20code:\x20'+hh);}};TDV['Tour']['Script']['fixTogglePlayPauseButton']=function(hj){var hk=hj['get']('buttonPlayPause');if(typeof hk!=='undefined'&&hj['get']('state')=='playing'){if(!Array['isArray'](hk))hk=[hk];for(var hl=0x0;hl<hk['length'];++hl)hk[hl]['set']('pressed',!![]);}};TDV['Tour']['Script']['getActiveMediaWithViewer']=function(hm){var hn=this['getActivePlayerWithViewer'](hm);if(hn==undefined){return undefined;}return this['getMediaFromPlayer'](hn);};TDV['Tour']['Script']['getActivePlayerWithViewer']=function(ho){var hp=this['getActivePlayersWithViewer'](ho);if(hp['length']>0x1){hp['sort'](function(hq,hr){var hs=hq['get']('class');var ht=hr['get']('class');if(hs=='Model3DPlayer')return 0x1;else if(ht=='Model3DPlayer')return-0x1;else return 0x0;});}return hp['length']>0x0?hp[0x0]:undefined;};TDV['Tour']['Script']['getActivePlayersWithViewer']=function(hu){var hv=this['getCurrentPlayers']();var hw=hv['length'];var hx=[];while(hw-->0x0){var hy=hv[hw];if(hy['get']('viewerArea')==hu){var hz=hy['get']('class');if(hz=='PanoramaPlayer'&&(hy['get']('panorama')!=undefined||hy['get']('video')!=undefined)||(hz=='VideoPlayer'||hz=='Video360Player')&&hy['get']('video')!=undefined||hz=='PhotoAlbumPlayer'&&hy['get']('photoAlbum')!=undefined||hz=='MapPlayer'&&hy['get']('map')!=undefined||hz=='Model3DPlayer'&&hy['get']('model')!=undefined)hx['push'](hy);}}return hx;};TDV['Tour']['Script']['getCurrentPlayerWithMedia']=function(hA){var hB=undefined;var hC=undefined;switch(hA['get']('class')){case'Panorama':case'LivePanorama':case'HDRPanorama':hB='PanoramaPlayer';hC='panorama';break;case'Video360':hB='PanoramaPlayer';hC='video';break;case'PhotoAlbum':hB='PhotoAlbumPlayer';hC='photoAlbum';break;case'Map':hB='MapPlayer';hC='map';break;case'Video':hB='VideoPlayer';hC='video';break;case'Model3D':hB='Model3DPlayer';hC='media';break;}if(hB!=undefined){var hD=this['getByClassName'](hB);for(var hE=0x0;hE<hD['length'];++hE){var hF=hD[hE];if(hF['get'](hC)==hA){return hF;}}}else{return undefined;}};TDV['Tour']['Script']['getCurrentPlayers']=function(){var hG=this['getByClassName']('PanoramaPlayer');hG=hG['concat'](this['getByClassName']('VideoPlayer'));hG=hG['concat'](this['getByClassName']('Video360Player'));hG=hG['concat'](this['getByClassName']('PhotoAlbumPlayer'));hG=hG['concat'](this['getByClassName']('MapPlayer'));hG=hG['concat'](this['getByClassName']('Model3DPlayer'));return hG;};TDV['Tour']['Script']['getGlobalAudio']=function(hH){var hI=window['currentGlobalAudios'];if(hI!=undefined&&hH['get']('id')in hI){hH=hI[hH['get']('id')]['audio'];}return hH;};TDV['Tour']['Script']['getMediaByName']=function(hJ){var hK=this['getByClassName']('Media');for(var hL=0x0,hM=hK['length'];hL<hM;++hL){var hN=hK[hL];var hO=hN['get']('data');if(hO&&hO['label']==hJ){return hN;}}return undefined;};TDV['Tour']['Script']['getMediaByTags']=function(hP,hQ){return this['_getObjectsByTags'](hP,['Media'],'tags2Media',hQ);};TDV['Tour']['Script']['getAudioByTags']=function(hR,hS){return this['_getObjectsByTags'](hR,['Audio'],'tags2Media',hS);};TDV['Tour']['Script']['getOverlaysByTags']=function(hT,hU){var hV=this['_getObjectsByTags'](hT,['HotspotPanoramaOverlay','HotspotMapOverlay','VideoPanoramaOverlay','QuadVideoPanoramaOverlay','FramePanoramaOverlay','QuadFramePanoramaOverlay','SpriteModel3DObject','PanoramaModel3DLocation'],'tags2Overlays',hU);return hV['map'](hW=>{return hW['get']('class')=='PanoramaModel3DLocation'?hW['get']('data')['object']:hW;});};TDV['Tour']['Script']['getOverlaysByGroupname']=function(hX){var hY=this['get']('data');var hZ='groupname2Overlays';var i0=hY[hZ];if(!i0){var i1=['HotspotPanoramaOverlay','VideoPanoramaOverlay','QuadVideoPanoramaOverlay','FramePanoramaOverlay','QuadFramePanoramaOverlay'];hY[hZ]=i0={};for(var i2=0x0;i2<i1['length'];++i2){var i3=i1[i2];var i4=this['getByClassName'](i3);for(var i5=0x0,i6=i4['length'];i5<i6;++i5){var i7=i4[i5];var i8=i7['get']('data');if(i8&&i8['group']){var i9=i0[i8['group']];if(!i9)i0[i8['group']]=i9=[];i9['push'](i7);}}}}return i0[hX]||[];};TDV['Tour']['Script']['getRootOverlay']=function(ia){var ib=ia['get']('class');var ic=ib['indexOf']('HotspotPanoramaOverlayArea')!=-0x1;var ie=ib['indexOf']('HotspotPanoramaOverlayImage')!=-0x1;if(ic||ie){var ig=this['get']('data');var ih='overlays';var ii=ig[ih];if(!ii){var ij=['HotspotPanoramaOverlay'];ii=[];for(var ik=0x0;ik<ij['length'];++ik){var il=ij[ik];ii=ii['concat'](this['getByClassName'](il));}ig[ih]=ii;}var im=ic?'areas':'items';for(var io=0x0,ip=ii['length'];io<ip;++io){var iq=ii[io];var ir=iq['get'](im);if(ir){for(var is=0x0;is<ir['length'];++is){if(ir[is]==ia)return iq;}}}}return ia;};TDV['Tour']['Script']['initOverlayGroupRotationOnClick']=function(it){var iu=this['getOverlaysByGroupname'](it);if(iu['length']>0x1){iu['sort'](function(iB,iC){var iD=iB['get']('data')['groupIndex'];var iE=iC['get']('data')['groupIndex'];return iD-iE;});for(var iv=0x0,iw=iu['length'];iv<iw;++iv){var ix=iu[iv];var iy=iu[(iv+0x1)%iw];var iz=ix['get']('class');var iA=ix;if(iz=='HotspotPanoramaOverlay'){iA=ix['get']('areas')[0x0];}iA['bind']('click',function(iF,iG){this['setOverlaysVisibility']([iF],![]);this['setOverlaysVisibility']([iG],!![]);}['bind'](this,ix,iy),this);}}};TDV['Tour']['Script']['getComponentsByTags']=function(iH,iI){return this['_getObjectsByTags'](iH,['UIComponent'],'tags2Components',iI);};TDV['Tour']['Script']['_getObjectsByTags']=function(iJ,iK,iL,iM){var iN=this['get']('data');var iO=iN[iL];if(!iO){iN[iL]=iO={};for(var iP=0x0;iP<iK['length'];++iP){var iQ=iK[iP];var iR=this['getByClassName'](iQ);for(var iT=0x0,iV=iR['length'];iT<iV;++iT){var iX=iR[iT];var iY=iX['get']('data');if(iY&&iY['tags']){var iZ=iY['tags'];for(var j2=0x0,j3=iZ['length'];j2<j3;++j2){var j4=iZ[j2];if(j4 in iO)iO[j4]['push'](iX);else iO[j4]=[iX];}}}}}var j5=undefined;iM=iM||'and';for(var iT=0x0,iV=iJ['length'];iT<iV;++iT){var j6=iO[iJ[iT]];if(!j6)continue;if(!j5)j5=j6['concat']();else{if(iM=='and'){for(var j2=j5['length']-0x1;j2>=0x0;--j2){if(j6['indexOf'](j5[j2])==-0x1)j5['splice'](j2,0x1);}}else if(iM=='or'){for(var j2=j6['length']-0x1;j2>=0x0;--j2){var iX=j6[j2];if(j5['indexOf'](iX)==-0x1)j5['push'](iX);}}}}return j5||[];};TDV['Tour']['Script']['getComponentByName']=function(j7){var j8=this['getByClassName']('UIComponent');for(var j9=0x0,ja=j8['length'];j9<ja;++j9){var jb=j8[j9];var jc=jb['get']('data');if(jc!=undefined&&jc['name']==j7){return jb;}}return undefined;};TDV['Tour']['Script']['getMainViewer']=function(){var jd='MainViewer';return this[jd]||this[jd+'_mobile'];};TDV['Tour']['Script']['getMediaFromPlayer']=function(je){switch(je['get']('class')){case'PanoramaPlayer':return je['get']('panorama')||je['get']('video');case'VideoPlayer':case'Video360Player':return je['get']('video');case'PhotoAlbumPlayer':return je['get']('photoAlbum');case'MapPlayer':return je['get']('map');case'Model3DPlayer':return je['get']('model');}};TDV['Tour']['Script']['getMediaWidth']=function(jf){switch(jf['get']('class')){case'Video360':var jg=jf['get']('video');if(jg instanceof Array){var jh=0x0;for(var ji=0x0;ji<jg['length'];ji++){var jj=jg[ji];if(jj['get']('width')>jh)jh=jj['get']('width');}return jh;}else{return jj['get']('width');}default:return jf['get']('width');}};TDV['Tour']['Script']['getMediaHeight']=function(jk){switch(jk['get']('class')){case'Video360':var jl=jk['get']('video');if(jl instanceof Array){var jm=0x0;for(var jn=0x0;jn<jl['length'];jn++){var jo=jl[jn];if(jo['get']('height')>jm)jm=jo['get']('height');}return jm;}else{return jo['get']('height');}default:return jk['get']('height');}};TDV['Tour']['Script']['getOverlays']=function(jp){switch(jp['get']('class')){case'LivePanorama':case'HDRPanorama':case'Panorama':var jq=jp['get']('overlays')['concat']()||[];var jr=jp['get']('frames');for(var js=0x0;js<jr['length'];++js){jq=jq['concat'](jr[js]['get']('overlays')||[]);}return jq;case'Video360':case'Map':return jp['get']('overlays')||[];case'Model3D':return jp['get']('objects');default:return[];}};TDV['Tour']['Script']['getPanoramaOverlayByName']=function(jt,ju){var jv=this['getOverlays'](jt);for(var jw=0x0,jx=jv['length'];jw<jx;++jw){var jy=jv[jw];var jz=jy['get']('data');if(jz!=undefined&&jz['label']==ju){return jy;}}return undefined;};TDV['Tour']['Script']['getPanoramaOverlaysByTags']=function(jA,jB,jC){var jD=[];var jE=this['getOverlays'](jA);var jF=this['getOverlaysByTags'](jB,jC);for(var jG=0x0,jH=jE['length'];jG<jH;++jG){var jI=jE[jG];if(jF['indexOf'](jI)!=-0x1)jD['push'](jI);}return jD;};TDV['Tour']['Script']['getPixels']=function(jJ){var jK=/((\+|-)?d+(.d*)?)(px|vw|vh|vmin|vmax)?/i['exec'](jJ);if(jK==undefined){return 0x0;}var jL=parseFloat(jK[0x1]);var jM=jK[0x4];var jN=this['rootPlayer']['get']('actualWidth')/0x64;var jO=this['rootPlayer']['get']('actualHeight')/0x64;switch(jM){case'vw':return jL*jN;case'vh':return jL*jO;case'vmin':return jL*Math['min'](jN,jO);case'vmax':return jL*Math['max'](jN,jO);default:return jL;}};TDV['Tour']['Script']['getPlayListsWithMedia']=function(jP,jQ){var jR=[];var jS=this['getByClassName']('PlayList');for(var jT=0x0,jU=jS['length'];jT<jU;++jT){var jV=jS[jT];if(jQ&&jV['get']('selectedIndex')==-0x1)continue;var jW=this['getPlayListItemByMedia'](jV,jP);if(jW!=undefined&&jW['get']('player')!=undefined)jR['push'](jV);}return jR;};TDV['Tour']['Script']['_getPlayListsWithViewer']=function(jX){var jY=this['getByClassName']('PlayList');var jZ=function(k1){var k2=k1['get']('items');for(var k3=k2['length']-0x1;k3>=0x0;--k3){var k4=k2[k3];var k5=k4['get']('player');if(k5!==undefined&&k5['get']('viewerArea')==jX)return!![];}return![];};for(var k0=jY['length']-0x1;k0>=0x0;--k0){if(!jZ(jY[k0]))jY['splice'](k0,0x1);}return jY;};TDV['Tour']['Script']['getPlayListWithItem']=function(k6){var k7=this['getByClassName']('PlayList');for(var k8=k7['length']-0x1;k8>=0x0;--k8){var k9=k7[k8];var ka=k9['get']('items');for(var kb=ka['length']-0x1;kb>=0x0;--kb){var kc=ka[kb];if(kc==k6)return k9;}}return undefined;};TDV['Tour']['Script']['getFirstPlayListWithMedia']=function(kd,ke){var kf=this['getPlayListsWithMedia'](kd,ke);return kf['length']>0x0?kf[0x0]:undefined;};TDV['Tour']['Script']['getPlayListItemByMedia']=function(kg,kh){var ki=kg['get']('items');for(var kj=0x0,kk=ki['length'];kj<kk;++kj){var kl=ki[kj];if(kl['get']('media')==kh)return kl;}return undefined;};TDV['Tour']['Script']['getPlayListItemIndexByMedia']=function(km,kn){var ko=this['getPlayListItemByMedia'](km,kn);return ko?km['get']('items')['indexOf'](ko):-0x1;};TDV['Tour']['Script']['getPlayListItems']=function(kp,kq){var kr=function(){switch(kp['get']('class')){case'Panorama':case'LivePanorama':case'HDRPanorama':return'PanoramaPlayListItem';case'Map':return'MapPlayListItem';case'Model3D':return'Model3DPlayListItem';case'PhotoAlbum':return'PhotoAlbumPlayListItem';case'Video':return'VideoPlayListItem';case'Video360':return'Video360PlayListItem';}}();if(kr!=undefined){var ks=this['getByClassName'](kr);for(var kt=ks['length']-0x1;kt>=0x0;--kt){var ku=ks[kt];if(ku['get']('media')!=kp||kq!=undefined&&ku['get']('player')!=kq){ks['splice'](kt,0x1);}}return ks;}else{return[];}};TDV['Tour']['Script']['historyGoBack']=function(kv){var kw=this['get']('data')['history'][kv['get']('id')];if(kw!=undefined){kw['back']();}};TDV['Tour']['Script']['historyGoForward']=function(kx){var ky=this['get']('data')['history'][kx['get']('id')];if(ky!=undefined){ky['forward']();}};TDV['Tour']['Script']['init']=function(){var kz=this['get']('data')['history'];var kA=function(kJ){var kK=kJ['source'];var kL=kK['get']('selectedIndex');if(kL<0x0)return;var kM=kK['get']('id');if(!kz['hasOwnProperty'](kM))kz[kM]=new TDV['Tour']['HistoryData'](kK);kz[kM]['add'](kL);};var kB=this['getByClassName']('PlayList');for(var kD=0x0,kE=kB['length'];kD<kE;++kD){var kF=kB[kD];kF['bind']('change',kA,this);}if(this['getMainViewer']()['get']('translationTransitionEnabled')){var kG=this['getByClassName']('ThumbnailList');kG=kG['concat'](this['getByClassName']('ThumbnailGrid'));kG=kG['concat'](this['getByClassName']('DropDown'));function kN(kO){var kP=kO['source']['get']('playList');var kQ=kP['get']('selectedIndex');if(kQ>=0x0){this['skip3DTransitionOnce'](kP['get']('items')[kQ]['get']('player'));}}for(var kD=0x0,kH=kG['length'];kD<kH;++kD){var kI=kG[kD];kI['bind']('change',kN,this);}}_initModels['call'](this);};TDV['Tour']['Script']['sendAnalyticsData']=function(kR,kS,kT){if(window['dataLayer']){window['dataLayer']['push']({'event':kS,'label':kT,'category':kR});}if(!this['get']('data')['tour']['player']['cookiesEnabled'])return;if(window['ga']){window['ga']('send','event',kR,kS,kT);}if(window['gtag']){window['gtag']('event',kS,{'category':kR,'label':kT});}};TDV['Tour']['Script']['initAnalytics']=function(){var kV=this['getByClassName']('Panorama');kV=kV['concat'](this['getByClassName']('Video360'));kV=kV['concat'](this['getByClassName']('Map'));kV=kV['concat'](this['getByClassName']('Model3D'));for(var kY=0x0,l1=kV['length'];kY<l1;++kY){var l2=kV[kY];var l5=l2['get']('data');var l6=l5?l5['label']:'';var l7=this['getOverlays'](l2);for(var l8=0x0,l9=l7['length'];l8<l9;++l8){var la=l7[l8];var lb=la['get']('data')!=undefined?l6+'\x20-\x20'+la['get']('data')['label']:l6;switch(la['get']('class')){case'FlatHotspotPanoramaOverlay':case'HotspotPanoramaOverlay':case'HotspotMapOverlay':case'AreaHotspotMapOverlay':var lc=la['get']('areas');for(var ld=0x0;ld<lc['length'];++ld){lc[ld]['bind']('click',this['sendAnalyticsData']['bind'](this,'Hotspot','click',lb),this,![]);}break;case'CeilingCapPanoramaOverlay':case'TripodCapPanoramaOverlay':la['bind']('click',this['sendAnalyticsData']['bind'](this,'Cap','click',lb),this,![]);break;case'QuadVideoPanoramaOverlay':case'VideoPanoramaOverlay':la['bind']('click',this['sendAnalyticsData']['bind'](this,'Hotspot','click',lb),this,![]);la['bind']('start',this['sendAnalyticsData']['bind'](this,'Hotspot','start',lb),this,![]);break;case'QuadFramePanoramaOverlay':case'FramePanoramaOverlay':case'SpriteModel3DObject':la['bind']('click',this['sendAnalyticsData']['bind'](this,'Hotspot','click',lb),this,![]);break;}}}var le=this['getByClassName']('UIComponent');for(var kY=0x0,l1=le['length'];kY<l1;++kY){var lf=le[kY];var lg=lf['getBindings']('click');if(lg['length']>0x0){var l5=lf['get']('data');if(l5===undefined)continue;var lh=l5['name'];lf['bind']('click',this['sendAnalyticsData']['bind'](this,'Skin','click',lh),this,![]);}}var li=this['mainPlayList']['get']('items')['concat'](this['getByClassName']('PlayListItem'));var lj={};for(var kY=0x0,l1=li['length'];kY<l1;++kY){var lk=li[kY];var kV=lk['get']('media');if(!(kV['get']('id')in lj)){var l5=kV['get']('data');lk['bind']('begin',this['sendAnalyticsData']['bind'](this,'Media','play',l5?l5['label']:undefined),this,![]);lj[kV['get']('id')]=lk;}}if(TDV['Remote']!=undefined){var ll=undefined;TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_BEGIN'],function(lm){ll=Date['now']();this['sendAnalyticsData']('Live\x20Guided\x20Tour','Start\x20Call','Guest:\x20'+lm);}['bind'](this));TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_END'],function(ln){var lo=new Date();lo['setTime'](Date['now']()-ll);this['sendAnalyticsData']('Live\x20Guided\x20Tour','End\x20Call','Guest:\x20'+ln+'\x20Duration:\x20'+lo['toUTCString']()['split']('\x20')[0x4]);}['bind'](this));}};TDV['Tour']['Script']['initQuiz']=function(lp,lq,lr){var ls={"score":{"veil":{"backgroundColor":"#000000","backgroundOpacity":0.3},"window":{"title":{"paddingTop":50,"textAlign":"center","fontFamily":"Arial","fontWeight":"bold","paddingBottom":15,"fontSize":50,"fontColor":"#000000"},"stats":{"borderColor":"#009fe3","borderRadius":75,"layout":"vertical","label":{"fontWeight":"normal","fontFamily":"Arial","fontSize":15,"fontColor":"#000000"},"gap":0,"secondaryValue":{"fontWeight":"bold","paddingLeft":5,"fontFamily":"Arial","fontSize":20,"fontColor":"#000000"},"horizontalAlign":"center","verticalAlign":"middle","borderSize":1,"mainValue":{"fontWeight":"bold","fontFamily":"Arial","fontSize":40,"fontColor":"#000000"},"title":{"paddingTop":10,"fontFamily":"Arial","fontWeight":"normal","paddingRight":5,"paddingLeft":5,"fontSize":20,"fontColor":"#000000"},"height":150,"minWidth":150},"shadowOpacity":0.3,"backgroundColor":"#ffffff","shadowHorizontalLength":0,"shadowColor":"#000000","statsContainer":{"verticalAlign":"middle","contentOpaque":true,"paddingTop":15,"paddingBottom":15,"gap":20,"paddingRight":100,"paddingLeft":100,"horizontalAlign":"center","overflow":"scroll"},"maxWidth":1500,"horizontalAlign":"center","shadowVerticalLength":0,"description":{"paddingTop":15,"textAlign":"center","fontFamily":"Arial","fontWeight":"normal","paddingRight":100,"paddingLeft":100,"paddingBottom":15,"fontSize":16,"fontColor":"#000000"},"buttonsContainer":{"verticalAlign":"middle","paddingTop":35,"horizontalAlign":"center","gap":8,"paddingRight":100,"paddingLeft":100,"paddingBottom":50,"width":"100%","button":{"verticalAlign":"middle","paddingTop":12,"paddingBottom":12,"fontFamily":"Arial","fontSize":15,"backgroundColor":"#009fe3","paddingRight":25,"paddingLeft":25,"horizontalAlign":"center","fontWeight":"bold","fontColor":"#ffffff"}},"paddingLeft":20,"paddingTop":20,"timeContainer":{"verticalAlign":"middle","paddingTop":10,"paddingBottom":15,"gap":5,"paddingRight":100,"paddingLeft":100,"horizontalAlign":"center","width":"100%"},"shadow":true,"calification":{"verticalAlign":"middle","paddingTop":15,"paddingBottom":10,"fontFamily":"Arial","fontWeight":"bold","paddingRight":100,"paddingLeft":100,"textAlign":"center","width":"100%","fontSize":30,"fontColor":"#009fe3"},"shadowSpread":4,"closeButton":{"height":45,"backgroundColor":"#009fe3","iconWidth":18,"iconColor":"#ffffff","iconHeight":18,"iconLineWidth":2,"width":45},"paddingRight":20,"shadowBlurRadius":4,"paddingBottom":20,"content":{"horizontalAlign":"center","width":"100%"},"minWidth":500}},"timeout":{"veil":{"backgroundColor":"#000000","backgroundOpacity":0.3},"window":{"title":{"textAlign":"center","fontFamily":"Arial","fontWeight":"bold","paddingBottom":20,"fontSize":40,"fontColor":"#000000"},"shadowOpacity":0.3,"backgroundColor":"#ffffff","button":{"verticalAlign":"middle","paddingTop":12,"paddingBottom":12,"fontFamily":"Arial","fontSize":15,"backgroundColor":"#009fe3","paddingRight":25,"paddingLeft":25,"horizontalAlign":"center","fontWeight":"bold","fontColor":"#ffffff"},"shadowColor":"#000000","buttonsContainer":{"horizontalAlign":"center","width":"100%","gap":10},"horizontalAlign":"center","gap":15,"paddingLeft":80,"paddingTop":45,"shadow":true,"shadowVerticalLength":0,"shadowSpread":4,"paddingRight":80,"shadowBlurRadius":4,"paddingBottom":55,"icon":{"height":72,"url":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD0AAABGCAYAAAB/h5zrAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABhRJREFUeNrsW41y2jgQliVjGxMuhDR37/92l2uvhVIcjGtzuLO6aBRpdyVb9G4azWiABKH99n9XcibSj9V13geu6a7z7+scUhAkbwB6GbFmAVP8X0H/58Y76HfQ76DfQYeOLmLNGKq+pyIouxFzS3jNkZg9MucrvB8B96mIyW8EumV858L8XlLQC5DKqGqHSDX9WeMe6G+BdpZ6jwseDZsfIC0MBa6M7KqEzwr5/hlUu4P3MYzeXGdtfG6uc0eBtgGLQOAjqAo2nppKjnuejBkK2Ak8YwI2ifgTcVYrAJxi9ED80VOIrGH6xr/A8wDAvhBXwmZFYjtVsM8KgB8cAsOG1oCdCgCsw0pjMOAeprqhk8qA0bUV2jKGlo04lQLin5iJioJNxu9+uIF0qcSqhtcugPmLDNA//UppaA5c6lIW7RB+WtjHlYQooCUHOqqUKXJmqMrjzMA7cDinyLZPCV2XembMu8yykTmAn8GztjPa7grmVOmPIavJHBvontYooW0AEwYoGJqEIesh0HnuwPEWgKcTDm93MWz8An+rmNL9BK+pxgUYOjBp6g3QZ9PEFMHZLaP8HAn5bDApRHJ5hL13ILUlQZs0BPJmY994ZJSee1cVwxg1xPkV0HAKXD+Az6CAly5HKhGiCoaEj4wMSCIpofB4ZwkES0LinAOBe66kt8SGI/e+EJs9Qa5cA4FmJ6QytGgk+ptF0++gBePaF8R0BvjtmpFFdhjomviRnmHDo5TujFxAAvFmJ0UazsaU1p3hqDLY50zQY7akfBp3xDona0YYGBg2R33eIZHABQobB2DUApF2rcOpLekK1GqKHWtQujBpIX5zvXtvrD0ExP2OoF3q38oRB+PjKHc0ExKVmLW67PVhKLR9K4sTG4KQF8//1mCLF5GmXy3h97cgzbPHxHpC2j8cmrQ4gQ2fWq8AdAVEqZnBrsGbr+GzEnjvHOvhLW31LikOIZ7aLlf7GcDGFhlHRGMLG3RBxGVM7Ssmp+cAO0Am6BtUdVfmzMZaSzDk2WhIxNTOykhkqMLmM7FHTzRF8pyRgwtG9dQHqPRoDr8ZRPVMP7BnhkvBBZ0TMXeuCy+1w94UA8Au0GwwASw4B3jfGeUhR60lSNjWjoJwSntPo0MKf+MfZRBH0lg+q3vl48Z/EcALq8b9hEhf5+StpxgqjAzyo6fhQBbaMb2nylrPabS7HGPjcIwfEedZMJ0vCTrGZvsQlbL+X3pSX453PgY4WFS9Y1LHBkq/JdTDFGidOkqQ1h8Om+bk23tDC3z5Q8YBHfudY0AY0d3SjeEElaNg4IxTgClFSVoazmrq0N1M+9zpGNlrw6KK18xyZqG+EPM17/UBuz48THGtA5P0kDOzmIoAvQHn1CIdkSlZnB3ajkj+LQnQZ8n0hBVBTG20ZGqRZtRWORtD649wKZlFhUK4l4V4zgljQHpu3O5PZyclVMzzcffFsMsO6a5MHQfwBWfEhBSR1jYuqWwJ9XgWCW/yzTA2hKSf7R6ZzlmXRPjiHsHovtYCGBVy1lVBcZJDOOWsXQi8x3fWOUXuCCdYfatPHDjhyzzrLiG95MbYrQFeMSMC9ZxII5BC48BQIcnkPOZR9QMtFZEBcrLGFWHLPQW6IexWWXUxp9vSeACvxNsOamslLN8YzKWkfOCkaxfCoS0YHv8E9nhyaE9lVVqtxehGvF7j6Bg1fUaEqT0HdCdeL7BivS6sNWzeanDF9tqIuQeHs6Kcn76OQan/m1I1I36Uc6kOSwkphxXbQeXecDy4fBQmyYvg3e8ojIIkJCxdIkKZjiAPgnel80toCaYXSkEf+eTi9a5mqmcvJIC9Y6S6A/TgLjGgtZNRjH6U7qKUERUUJ8l5YPbE9L30XsS0VQJTPFfIakT8jcEF7LcU/MYl6yJ+aEUUCtwMX/oRBd+TOKVRMJQi/PST/chFTBlI3aD/GaOD0MQyqZiz5DPMStzuuS4qZO5CTCib6GA2It0zG5x2016EX7ybRVK3eobDtF3deo7q0M6pnqnBTwabsp+lxOsFODUDUDP0zTJSOyIFGqCfwssFfd+zN8Jbkmcv/xFgALaVsLLFsFFBAAAAAElFTkSuQmCC","width":62},"shadowHorizontalLength":0}},"question":{"veil":{"backgroundColor":"#000000","backgroundOpacity":0.3},"window":{"paddingRight":20,"backgroundColor":"#ffffff","bodyContainer":{"height":"100%","gap":35,"paddingRight":30,"paddingLeft":30,"layout":"horizontal","paddingBottom":30,"width":"100%"},"shadowColor":"#000000","shadow":true,"width":"60%","height":"60%","shadowVerticalLength":0,"shadowSpread":4,"optionsContainer":{"overflow":"scroll","contentOpaque":true,"height":"100%","gap":10,"width":"30%"},"shadowHorizontalLength":0,"shadowBlurRadius":4,"shadowOpacity":0.3,"paddingLeft":20,"buttonsContainer":{"verticalAlign":"bottom","horizontalAlign":"right","button":{"fontFamily":"Arial","fontSize":18,"paddingLeft":25,"horizontalAlign":"center","fontWeight":"bold","verticalAlign":"middle","paddingTop":10,"backgroundOpacity":0.7,"backgroundColor":"#000000","paddingRight":25,"borderRadius":3,"paddingBottom":10,"fontColor":"#ffffff"}},"horizontalAlign":"center","backgroundOpacity":1,"paddingTop":20,"mediaContainer":{"buttonNext":{"height":37,"iconURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAlCAMAAACAj7KHAAAAA3NCSVQICAjb4U/gAAAAS1BMVEX///8AAAAAAAAAAAAAAACVlZWLi4uDg4MAAAC8vLx8fHx5eXl2dnZ0dHRxcXHDw8PAwMBra2tjY2PY2NiLi4v7+/v5+fn////7+/sWSBTRAAAAGXRSTlMAESIzRFVVVVVmZmZmZmZ3d3d3mZnu7v//nfgMagAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDYvMjkvMTUTtAt+AAAAjElEQVQokbXTyRaAIAgFUJHmeTL7/y9Naie+Toti2T0R4suYH4qI0HNKGpGV0iYwuoLFlEzeu0YT2dqH2jtFZHN3UR9T6FamKQi3O6Q+STL2O4r6WR4QcTZfdIQjR6NzttxUaKk2Eb/qdql34HfgbPA8eAdwb3jXD/eD7xTnAGcH5g1n9CHXBv8Ln9UJhXMPrAhUbYMAAAAASUVORK5CYII=","width":25},"height":"100%","viewerArea":{"playbackBarHeadShadowVerticalLength":0,"playbackBarProgressBackgroundColor":"#3399ff","backgroundColor":"#e6e6e6","playbackBarHeadShadowSpread":2,"playbackBarHeadBorderSize":3,"playbackBarBackgroundColor":"#000000","playbackBarHeadShadowOpacity":0.3,"playbackBarHeadBackgroundColor":"#cccccc","playbackBarHeadShadowBlurRadius":2,"playbackBarHeight":6,"playbackBarHeadBorderRadius":7,"playbackBarLeft":0,"playbackBarProgressOpacity":0.5,"playbackBarBottom":5,"playbackBarHeadHeight":14,"playbackBarHeadBorderColor":"#ffffff","playbackBarHeadShadow":true,"playbackBarHeadWidth":14,"backgroundOpacity":1,"playbackBarHeadOpacity":1,"playbackBarHeadShadowColor":"#000000","playbackBarBorderRadius":0,"playbackBarBackgroundOpacity":0.5,"playbackBarHeadShadowHorizontalLength":0,"playbackBarBorderSize":0,"playbackBarRight":0},"width":"70%","buttonPrevious":{"height":37,"iconURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAlCAMAAACAj7KHAAAAA3NCSVQICAjb4U/gAAAAS1BMVEX///8AAAAAAAAAAAAAAACVlZWLi4uDg4MAAAC8vLx8fHx5eXl2dnZ0dHRxcXHDw8PAwMBra2tjY2PY2NiLi4v7+/v5+fn////7+/sWSBTRAAAAGXRSTlMAESIzRFVVVVVmZmZmZmZ3d3d3mZnu7v//nfgMagAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDYvMjkvMTUTtAt+AAAAkElEQVQokbXSyRaDIAwFUALOQ7W2iP//pQK6CGheF55mmXuYwlPqn0VEUp/uzPd0qAuFvqnsdKEInXVuziTCsDpfraYcxgi25MKh5rsxWHvDhMMIIJWf8EpAeei2CO/CJK8kXR2w5ED6E8B9m0zkNegc8W7ye8AM5LmBWYP/AX8KcgCyA/IGMqrkXJ92239aO3W4D6yL2ECSAAAAAElFTkSuQmCC","width":25}},"option":{"label":{"pressedBackgroundOpacity":1,"fontFamily":"Arial","fontWeight":"bold","incorrect":{"pressedBackgroundOpacity":1,"fontFamily":"Arial","fontWeight":"bold","horizontalAlign":"center","width":38,"fontSize":18,"verticalAlign":"middle","height":38,"backgroundOpacity":1,"backgroundColor":"#ed1c24","borderRadius":19,"fontColor":"#ffffff"},"horizontalAlign":"center","width":38,"fontSize":18,"verticalAlign":"middle","height":38,"correct":{"pressedBackgroundOpacity":1,"fontFamily":"Arial","fontWeight":"bold","horizontalAlign":"center","width":38,"fontSize":18,"verticalAlign":"middle","height":38,"backgroundOpacity":1,"backgroundColor":"#39b54a","borderRadius":19,"fontColor":"#ffffff"},"backgroundOpacity":0.2,"backgroundColor":"#000000","borderRadius":19,"fontColor":"#ffffff"},"gap":10,"text":{"verticalAlign":"middle","paddingTop":9,"fontFamily":"Arial","fontSize":18,"selected":{"paddingTop":9,"textAlign":"left","fontFamily":"Arial","fontSize":18,"fontColor":"#000000"},"textAlign":"left","fontColor":"#404040"}},"closeButton":{"height":45,"backgroundColor":"#009FE3","iconWidth":18,"iconColor":"#FFFFFF","iconHeight":18,"iconLineWidth":2,"width":45},"title":{"paddingTop":25,"textAlign":"center","fontFamily":"Arial","fontWeight":"bold","paddingRight":50,"paddingLeft":50,"paddingBottom":40,"fontSize":20,"fontColor":"#000000"},"borderRadius":5,"paddingBottom":20,"minWidth":500}}};var lt=this['get']('data');var lu=lt['createQuizConfig']['call'](this);lF['call'](this,lu);lu['playList']=lp;lu['player']=this;lu['theme']='theme'in lu?this['mixObject'](ls,lu['theme']):ls;if(lu['questions']){lE['call'](this,lu['questions']);for(var lv=0x0;lv<lu['questions']['length'];++lv){var lw=lu['questions'][lv];lE['call'](this,lw['options']);}}if(lu['objectives']){lE['call'](this,lu['objectives']);}if(lu['califications']){lE['call'](this,lu['califications']);}if(lu['score']){this[lu['score']['id']]=lu['score'];}if(lu['question']){this[lu['question']['id']]=lu['question'];}if(lu['timeout']){this[lu['timeout']['id']]=lu['timeout'];}var lx=lu['data']&&lu['data']['titlesScale']?lu['data']['titlesScale']:0x1;var ly=lu['data']&&lu['data']['bodyScale']?lu['data']['bodyScale']:0x1;if(this['get']('isMobile')&&!this['get']('data')['tour']['isIPad']()){var lz=this['mixObject'](lu['theme'],{'question':{'window':{'width':'100%','height':'100%','minWidth':undefined,'backgroundOpacity':0x1,'borderRadius':0x0,'paddingLeft':0x0,'paddingRight':0x0,'paddingBottom':0x0,'paddingTop':0x0,'verticalAlign':'middle','title':{'paddingBottom':0x19,'paddingTop':0x19},'bodyContainer':{'layout':'vertical','horizontalAlign':'center','paddingLeft':0x0,'paddingRight':0x0,'gap':0x14},'mediaContainer':{'width':'100%','height':'45%'},'optionsContainer':{'width':'100%','height':'55%','paddingLeft':0x14,'paddingRight':0x14}}},'score':{'window':{'description':{'paddingLeft':0xa,'paddingRight':0xa},'calification':{'fontSize':0x14*ly,'paddingLeft':0xa,'paddingRight':0xa}}}});lu['theme']=lz;}var lA=document['getElementById']('metaViewport');var lB=lA?/initial-scale=(\d+(\.\d+)?)/['exec'](lA['getAttribute']('content')):undefined;var lC=lB?lB[0x1]:0x1;lt['scorePortraitConfig']={'theme':{'window':{'minWidth':0xfa/lC,'maxHeight':0x258/lC,'content':{'height':'100%'},'statsContainer':{'layout':'vertical','horizontalAlign':'center','maxHeight':0x258,'paddingLeft':0x0,'paddingRight':0x0,'width':'100%','height':'100%'},'buttonsContainer':{'paddingLeft':0xa,'paddingRight':0xa,'button':{'paddingLeft':0xf,'paddingRight':0xf}}}}};lt['scoreLandscapeConfig']={'theme':{'window':{'title':{'fontSize':0x1e*lx,'paddingTop':0xa},'stats':{'height':0x64},'buttonsContainer':{'paddingBottom':0x14,'paddingTop':0xa},'description':{'paddingBottom':0x5,'paddingTop':0x5}}}};var lD=new TDV['Quiz'](lu);lD['setMaxListeners'](0x32);if(lr===!![]){lD['bind'](TDV['Quiz']['EVENT_PROPERTIES_CHANGE'],function(){if((lD['get'](TDV['Quiz']['PROPERTY']['QUESTIONS_ANSWERED'])+lD['get'](TDV['Quiz']['PROPERTY']['ITEMS_FOUND']))/(lD['get'](TDV['Quiz']['PROPERTY']['QUESTION_COUNT'])+lD['get'](TDV['Quiz']['PROPERTY']['ITEM_COUNT']))==0x1)setTimeout(function(){lD['finish']();},0x0);}['bind'](this));}if(lq===!![]){lD['start']();}lt['quiz']=lD;lt['quizConfig']=lu;function lE(lG){for(var lH=0x0;lH<lG['length'];++lH){var lI=lG[lH];if('id'in lI)this[lI['id']]=lI;}}function lF(lJ){for(var lK in lJ){var lL=lJ[lK];if(typeof lL=='object'&&lL!==null)lF['call'](this,lL);else if(typeof lL=='string'&&lL['startsWith']('this.'))lJ[lK]=_getObject(this,lL);}}};TDV['Tour']['Script']['getQuizTotalObjectiveProperty']=function(lM){var lN=this['get']('data')['quiz'];var lO=this['get']('data')['quizConfig'];var lP=lO['objectives'];var lQ=0x0;for(var lR=0x0,lS=lP['length'];lR<lS;++lR){var lT=lP[lR];lQ+=lN['getObjective'](lT['id'],lM);}return lQ;};TDV['Tour']['Script']['_initSplitViewer']=function(lU){function lV(){var mi=lU['get']('actualWidth');m7['get']('children')[0x0]['set']('width',mi);m8['get']('children')[0x0]['set']('width',mi);var mj=mb['get']('left');var mk=typeof mj=='string'?lW(mj):mj;mk+=mb['get']('actualWidth')*0.5;m7['set']('width',lX(mk));m8['set']('width',lX(mi-mk));}function lW(ml){return parseFloat(ml['replace']('%',''))/0x64*lU['get']('actualWidth');}function lX(mm){return mm/lU['get']('actualWidth')*0x64+'%';}function lY(mn){lZ(mn['source']);}function lZ(mo){var mp=mo==md?mc:md;if(me&&mo!=me||!mo||!mp)return;var mq=mo['get']('class');var mr=mp['get']('class');if(mq=='PanoramaPlayer'&&mr=='PanoramaPlayer'){var ms=mp['get']('camera')['get']('initialPosition')['get']('yaw')-mo['get']('camera')['get']('initialPosition')['get']('yaw');mp['setPosition'](mo['get']('yaw')+ms,mo['get']('pitch'),mo['get']('roll'),mo['get']('hfov'));}else if(mq=='Model3DPlayer'&&mr=='Model3DPlayer'){var mt=mo['get']('model')['get']('camera');var mu=mp['get']('model')['get']('camera');var mv=['yaw','pitch','x','y','z','fov'];if(mt['get']('class')=='OrbitModel3DCamera'&&mu['get']('class')=='OrbitModel3DCamera')mv['push']('distance');mv['forEach'](mw=>{mu['set'](mw,mt['get'](mw));});}}function m0(mx){me=mx['source'];}function m1(my){m4['call'](this,my['source']);}function m2(mz){var mA=mz['get']('viewerArea');if(mA==m9){if(mc&&mc['get']('class')=='PanoramaPlayer'){mc['get']('camera')['set']('hoverFactor',mf);}mc=mz;me=mc;if(mc&&mc['get']('class')=='PanoramaPlayer'){mf=mc['get']('camera')['get']('hoverFactor');mc['get']('camera')['set']('hoverFactor',0x0);}}else if(mA==ma){if(md&&md['get']('class')=='PanoramaPlayer'){md['get']('camera')['set']('hoverFactor',mg);}md=mz;me=md;if(md&&md['get']('class')=='PanoramaPlayer'){mg=md['get']('camera')['get']('hoverFactor');md['get']('camera')['set']('hoverFactor',0x0);}}lZ(mz);}function m3(mB){var mC=this['getCurrentPlayers']();var mD=mC['length'];while(mD-->0x0){var mF=mC[mD];if(mF['get']('viewerArea')!=mB){mC['splice'](mD,0x1);}}for(mD=0x0;mD<mC['length'];++mD){var mF=mC[mD];mF['bind']('preloadMediaShow',m1,this);if(mF['get']('class')=='PanoramaPlayer'){mF['bind']('cameraPositionChange',lY,this);mF['bind']('userInteractionStart',m0,this);}m4['call'](this,mF);}return mC;}function m4(mG){var mH=mh['find'](mJ=>{return mJ['player']==mG;});if(mH){if(mH['media']['get']('class')=='Model3D'){mH['media']['get']('camera')['unbind']('positionSet',mH['updateFn'],this);}mh['splice'](mh['indexOf'](mH),0x1);}var mI=this['getMediaFromPlayer'](mG);if(!mI)return;mH={'media':mI,'player':mG,'updateFn':()=>{lZ(mG);}};mh['push'](mH);if(mH['media']['get']('class')=='Model3D'){mH['media']['get']('camera')['bind']('positionSet',mH['updateFn'],this);}m2(mG);}function m5(mK){m2(this['getActivePlayerWithViewer'](mK['source']));lZ(me);}var m6=lU['get']('children');var m7=m6[0x0];var m8=m6[0x1];var m9=m7['get']('children')[0x0];var ma=m8['get']('children')[0x0];var mb=m6[0x2];var mc,md,me;var mf,mg;var mh=[];m3['call'](this,m9);m3['call'](this,ma);m9['bind']('mouseDown',m5,this);ma['bind']('mouseDown',m5,this);lU['bind']('resize',function(){mb['set']('left',(lU['get']('actualWidth')-mb['get']('actualWidth'))*0.5);lV();},this);mb['bind']('mouseDown',function(mL){var mM=mL['pageX'];var mN=function(mO){var mP=mO['pageX'];var mQ=mM-mP;var mR=lU['get']('actualWidth');var mS=mb['get']('left');var mT=(typeof mS=='string'?lW(mS):mS)-mQ;if(mT<0x0){mP-=mT;mT=0x0;}else if(mT+mb['get']('actualWidth')>=mR){mP-=mT-(mR-mb['get']('actualWidth'));mT=mR-mb['get']('actualWidth');}mb['set']('left',mT);lV();mM=mP;};this['bind']('mouseMove',mN,this);this['bind']('mouseUp',function(){this['unbind']('mouseMove',mN,this);},this);},this);lV();};TDV['Tour']['Script']['_initTwinsViewer']=function(mU){function mV(){var nj=mU['get']('actualWidth');n8['get']('children')[0x0]['set']('width',nj);n9['get']('children')[0x0]['set']('width',nj);var nk=nc['get']('left');var nl=typeof nk=='string'?mW(nk):nk;nl+=nc['get']('actualWidth')*0.5;n8['set']('width',mX(nl));n9['set']('width',mX(nj-nl));}function mW(nm){return parseFloat(nm['replace']('%',''))/0x64*mU['get']('actualWidth');}function mX(nn){return nn/mU['get']('actualWidth')*0x64+'%';}function mY(no){mZ(no['source']);}function mZ(np){var nq=np==ne?nd:ne;if(nf&&np!=nf||!np||!nq)return;var nr=np['get']('class');var ns=nq['get']('class');if(nr=='PanoramaPlayer'&&ns=='PanoramaPlayer'){var nt=nq['get']('camera')['get']('initialPosition')['get']('yaw')-np['get']('camera')['get']('initialPosition')['get']('yaw');nq['setPosition'](np['get']('yaw')+nt,np['get']('pitch'),np['get']('roll'),np['get']('hfov'));}else if(nr=='Model3DPlayer'&&ns=='Model3DPlayer'){var nu=np['get']('model')['get']('camera');var nv=nq['get']('model')['get']('camera');var nw=['yaw','pitch','x','y','z','fov'];if(nu['get']('class')=='OrbitModel3DCamera'&&nv['get']('class')=='OrbitModel3DCamera')nw['push']('distance');nw['forEach'](nx=>{nv['set'](nx,nu['get'](nx));});}}function n0(ny){nf=ny['source'];}function n1(nz){nf=nd;}function n2(nA){n5['call'](this,nA['source']);}function n3(nB){var nC=nB['get']('viewerArea');if(nC==na){if(nd&&nd['get']('class')=='PanoramaPlayer'){nd['get']('camera')['set']('hoverFactor',ng);}nd=nB;nf=nd;if(nd&&nd['get']('class')=='PanoramaPlayer'){ng=nd['get']('camera')['get']('hoverFactor');nd['get']('camera')['set']('hoverFactor',0x0);}}else if(nC==nb){if(ne&&ne['get']('class')=='PanoramaPlayer'){ne['get']('camera')['set']('hoverFactor',nh);}ne=nB;nf=ne;if(ne&&ne['get']('class')=='PanoramaPlayer'){nh=ne['get']('camera')['get']('hoverFactor');ne['get']('camera')['set']('hoverFactor',0x0);}}mZ(nB);}function n4(nD){var nE=this['getCurrentPlayers']();var nF=nE['length'];while(nF-->0x0){var nH=nE[nF];if(nH['get']('viewerArea')!=nD){nE['splice'](nF,0x1);}}for(nF=0x0;nF<nE['length'];++nF){var nH=nE[nF];nH['bind']('preloadMediaShow',n2,this);if(nH['get']('class')=='PanoramaPlayer'){nH['bind']('cameraPositionChange',mY,this);nH['bind']('userInteractionStart',n0,this);nH['bind']('userInteractionEnd',n1,this);}n5['call'](this,nH);}return nE;}function n5(nI){var nJ=ni['find'](nL=>{return nL['player']==nI;});if(nJ){if(nJ['media']['get']('class')=='Model3D'){nJ['media']['get']('camera')['unbind']('positionSet',nJ['updateFn'],this);}ni['splice'](ni['indexOf'](nJ),0x1);}var nK=this['getMediaFromPlayer'](nI);if(!nK)return;nJ={'media':nK,'player':nI,'updateFn':()=>{mZ(nI);}};ni['push'](nJ);if(nJ['media']['get']('class')=='Model3D'){nJ['media']['get']('camera')['bind']('positionSet',nJ['updateFn'],this);}n3(nI);}function n6(nM){n3(this['getActivePlayerWithViewer'](nM['source']));mZ(nf);}var n7=mU['get']('children');var n8=n7[0x0];var n9=n7[0x1];var na=n8['get']('children')[0x0];var nb=n9['get']('children')[0x0];var nc=n7[0x2];var nd,ne,nf;var ng,nh;var ni=[];n4['call'](this,na);n4['call'](this,nb);na['bind']('mouseDown',n6,this);nb['bind']('mouseDown',n6,this);mU['bind']('resize',function(){nc['set']('left',(mU['get']('actualWidth')-nc['get']('actualWidth'))*0.5);mV();},this);mV();};TDV['Tour']['Script']['isCardboardViewMode']=function(){var nN=this['getByClassName']('PanoramaPlayer');return nN['length']>0x0&&nN[0x0]['get']('viewMode')=='cardboard';};TDV['Tour']['Script']['isPanorama']=function(nO){return['Panorama','HDRPanorama','LivePanorama','Video360','VideoPanorama']['indexOf'](nO['get']('class'))!=-0x1;};TDV['Tour']['Script']['keepCompVisible']=function(nP,nQ){var nR='keepVisibility_'+nP['get']('id');var nS=this['getKey'](nR);if(nS==undefined&&nQ){this['registerKey'](nR,nQ);}else if(nS!=undefined&&!nQ){this['unregisterKey'](nR);}};TDV['Tour']['Script']['_initItemWithComps']=function(nT,nU,nV,nW,nX,nY,nZ,o0){var o1=nT['get']('items')[nU];var o2=o1['get']('media');var o3=o2['get']('loop')==undefined||o2['get']('loop');var o4=o0>0x0;var o5=this['rootPlayer'];var o6=function(oe){var of=nY?nY['get']('class'):undefined;var og=undefined;switch(of){case'FadeInEffect':case'FadeOutEffect':og=o5['createInstance'](oe?'FadeInEffect':'FadeOutEffect');break;case'SlideInEffect':case'SlideOutEffect':og=o5['createInstance'](oe?'SlideInEffect':'SlideOutEffect');break;}if(og){og['set']('duration',nY['get']('duration'));og['set']('easing',nY['get']('easing'));if(of['indexOf']('Slide')!=-0x1)og['set'](oe?'from':'to',nY['get'](nY['get']('class')=='SlideInEffect'?'from':'to'));}return og;};var o7=function(){for(var oh=0x0,oi=nV['length'];oh<oi;++oh){var oj=nV[oh];if(o0>0x0){this['setComponentVisibility'](oj,!nX,0x0,o6(!nX));}else{var ok='visibility_'+oj['get']('id');if(this['existsKey'](ok)){if(this['getKey'](ok))this['setComponentVisibility'](oj,!![],0x0,o6(!![]));else this['setComponentVisibility'](oj,![],0x0,o6(![]));this['unregisterKey'](ok);}}}o1['unbind']('end',o7,this);if(!o3)o2['unbind']('end',o7,this);};var o8=function(){o1['unbind']('stop',o8,this,!![]);o1['unbind']('stop',o8,this);o1['unbind']('begin',o8,this,!![]);o1['unbind']('begin',o8,this);for(var ol=0x0,om=nV['length'];ol<om;++ol){this['keepCompVisible'](nV[ol],![]);}};var o9=function(on,oo,op){var oq=function(){var or=function(ov,ow,ox){o5['setComponentVisibility'](ov,ow,oo,ox,ow?'showEffect':'hideEffect',![]);if(op>0x0){var oy=oo+op+(ox!=undefined?ox['get']('duration'):0x0);o5['setComponentVisibility'](ov,!ow,oy,o6(!ow),ow?'hideEffect':'showEffect',!![]);}};for(var os=0x0,ot=nV['length'];os<ot;++os){var ou=nV[os];if(nX=='toggle'){if(!ou['get']('visible'))or(ou,!![],o6(!![]));else or(ou,![],o6(![]));}else{or(ou,nX,o6(nX));}}o1['unbind'](on,oq,this);if(on=='end'&&!o3)o2['unbind'](on,oq,this);};o1['bind'](on,oq,this);if(on=='end'&&!o3)o2['bind'](on,oq,this);};if(nW=='begin'){for(var oa=0x0,ob=nV['length'];oa<ob;++oa){var oc=nV[oa];this['keepCompVisible'](oc,!![]);if(o4){var od='visibility_'+oc['get']('id');this['registerKey'](od,oc['get']('visible'));}}o1['bind']('stop',o8,this,!![]);o1['bind']('stop',o8,this);o1['bind']('begin',o8,this,!![]);o1['bind']('begin',o8,this);if(o4){o1['bind']('end',o7,this);if(!o3)o2['bind']('end',o7,this);}}else if(nW=='end'&&o0>0x0){o9('begin',o0,0x0);o0=0x0;}if(nW!=undefined)o9(nW,nZ,o0);};TDV['Tour']['Script']['loadFromCurrentMediaPlayList']=function(oz,oA,oB){var oC=oz['get']('selectedIndex');var oD=oz['get']('items')['length'];var oE=(oC+oA)%oD;while(oE<0x0){oE=oD+oE;}if(oC!=oE){if(oB){var oF=oz['get']('items')[oE];this['skip3DTransitionOnce'](oF['get']('player'));}oz['set']('selectedIndex',oE);}};TDV['Tour']['Script']['mixObject']=function(oG,oH){return this['assignObjRecursively'](oH,this['copyObjRecursively'](oG));};TDV['Tour']['Script']['downloadFile']=function(oI){if((navigator['userAgent']['toLowerCase']()['indexOf']('chrome')>-0x1||navigator['userAgent']['toLowerCase']()['indexOf']('safari')>-0x1)&&!/(iP)/g['test'](navigator['userAgent'])){var oJ=document['createElement']('a');oJ['href']=oI;oJ['setAttribute']('target','_blank');if(oJ['download']!==undefined){var oK=oI['substring'](oI['lastIndexOf']('/')+0x1,oI['length']);oJ['download']=oK;}if(document['createEvent']){var oL=document['createEvent']('MouseEvents');oL['initEvent']('click',!![],!![]);oJ['dispatchEvent'](oL);return;}}window['open'](oI,'_blank');};TDV['Tour']['Script']['openLink']=function(oM,oN){if(!oM||oM==location['href']){return;}if(!oN)oN='_blank';if(oN=='_top'||oN=='_self'){this['updateDeepLink']({'includeCurrentView':!![],'includeCurrentVisibleHotspots':!![],'includeCurrentMeasureModel3DObjects':!![],'setHash':!![]});}var oO=window&&window['process']&&window['process']['versions']&&window['process']['versions']['electron']||navigator&&navigator['userAgent']&&navigator['userAgent']['indexOf']('Electron')>=0x0;if(oO&&oN=='_blank'){if(oM['startsWith']('files/')){oM='/'+oM;}if(oM['startsWith']('//')){oM='https:'+oM;}else if(oM['startsWith']('/')){var oP=window['location']['href']['split']('/');oP['pop']();oM=oP['join']('/')+oM;}var oQ=oM['split']('.')['pop']()['toLowerCase']();if((['pdf','zip','xls','xlsx']['indexOf'](oQ)==-0x1||oM['startsWith']('file://'))&&window['hasOwnProperty']('require')){var oR=window['require']('electron')['shell'];oR['openExternal'](oM);}else{window['open'](oM,oN);}}else if(oO&&(oN=='_top'||oN=='_self')){window['location']=oM;}else{var oS=this['get']('data')['tour'];if(oS['isMobileApp']()&&oS['isIOS']())oM='blank:'+oM;var oT=window['open'](oM,oN);oT['focus']();}};TDV['Tour']['Script']['startPanoramaWithModel']=function(oU,oV){var oW=oU['get']('media');var oX=_findLocationWithPanorama['call'](this,oW);if(!oX){oV['call'](this);return;}var oY=oX['get']('model');var oZ=oU['get']('player')['get']('viewerArea');var p1=this['getActivePlayersWithViewer'](oZ);var p3=p1['length']==0x1?p1['find'](function(pa){return this['getMediaFromPlayer'](pa)==oY;}['bind'](this)):undefined;if(p3){oV['call'](this);}else{var p1=_getPlayersWithViewer['call'](this,oZ);var p3=p1['find'](function(pb){return pb['get']('class')=='Model3DPlayer';});var p4,p5;if(!p3){p3=this['createInstance']('Model3DPlayer');p3['set']('viewerArea',oZ);}else{var p6=this['getByClassName']('Model3DPlayListItem');p4=p6['find'](function(pc){return pc['get']('player')==p3;}['bind'](this));}if(!p4){p4=this['createInstance']('Model3DPlayListItem');p4['set']('player',p3);_initModel3DItem['call'](this,p4);}p4['set']('media',oY);var p7=oX['get']('forceModelLoading');oX['set']('forceModelLoading',!![]);var p8=function(){p4['unbind']('begin',p8,this);oV['call'](this);};var p9=function(){oU['unbind']('begin',p9,this);oX['set']('forceModelLoading',p7);if(p5)this['disposeInstance'](p5);};oU['bind']('begin',p9,this);if(p4['get']('state')=='playing')p8['call'](this);else{p4['bind']('begin',p8,this);p5=this['createInstance']('PlayList');p5['set']('items',[p4]);p5['set']('selectedIndex',0x0);}}};TDV['Tour']['Script']['pauseCurrentPlayers']=function(pd){var pe=this['getCurrentPlayers']();var pf=pe['length'];while(pf-->0x0){var pg=pe[pf];if(pg['get']('state')=='playing'||pg['get']('data')&&pg['get']('data')['playing']||pg['get']('viewerArea')&&pg['get']('viewerArea')['get']('id')==this['getMainViewer']()||pg['get']('camera')&&pg['get']('camera')['get']('idleSequence')&&pg['get']('camera')['get']('timeToIdle')>0x0&&pg['get']('state')=='playing'||pg['get']('class')=='Model3DPlayer'&&pg['get']('model')&&pg['get']('model')['get']('camera')['get']('state')=='playing'){var ph=this['getMediaFromPlayer'](pg);if(pd&&ph&&ph['get']('class')!='Video360'&&'pauseCamera'in pg){pg['pauseCamera']();}else{pg['pause']();}}else{pe['splice'](pf,0x1);}}return pe;};TDV['Tour']['Script']['pauseGlobalAudiosWhilePlayItem']=function(pi,pj,pk){var pl=function(){if(pi['get']('selectedIndex')!=pj){this['resumeGlobalAudios']();}};this['pauseGlobalAudios'](pk,!![]);this['executeFunctionWhenChange'](pi,pj,pl,pl);};TDV['Tour']['Script']['pauseGlobalAudios']=function(pm,pn){this['stopTextToSpeech']();if(window['pausedAudiosLIFO']==undefined)window['pausedAudiosLIFO']=[];var po=this['getByClassName']('VideoPanoramaOverlay');po=po['concat'](this['getByClassName']('QuadVideoPanoramaOverlay'));for(var pq=po['length']-0x1;pq>=0x0;--pq){var pr=po[pq];if(pr['get']('video')['get']('hasAudio')==![])po['splice'](pq,0x1);}var ps=this['getByClassName']('Audio')['concat'](po);var pt={};if(window['currentGlobalAudios']!=undefined)ps=ps['concat'](Object['values'](window['currentGlobalAudios'])['map'](function(px){if(!px['allowResume'])pt[px['audio']['get']('id')]=px['audio'];return px['audio'];}));var pu=[];for(var pq=0x0,pv=ps['length'];pq<pv;++pq){var pw=ps[pq];if(pw&&pw['get']('state')=='playing'&&(pm==undefined||pm['indexOf'](pw)==-0x1)){if(pw['get']('id')in pt){pw['stop']();}else{pw['pause']();pu['push'](pw);}}}if(pn||pu['length']>0x0)window['pausedAudiosLIFO']['push'](pu);return pu;};TDV['Tour']['Script']['resumeGlobalAudios']=function(){if(window['pausedAudiosLIFO']==undefined)return;if(window['resumeAudiosBlocked']){if(window['pausedAudiosLIFO']['length']>0x1){window['pausedAudiosLIFO'][window['pausedAudiosLIFO']['length']-0x2]=window['pausedAudiosLIFO'][window['pausedAudiosLIFO']['length']-0x2]['concat'](window['pausedAudiosLIFO'][window['pausedAudiosLIFO']['length']-0x1]);window['pausedAudiosLIFO']['splice'](window['pausedAudiosLIFO']['length']-0x1,0x1);}return;}var py=window['pausedAudiosLIFO']['pop']();if(!py)return;for(var pz=0x0,pA=py['length'];pz<pA;++pz){var pB=py[pz];if(pB['get']('state')=='paused')pB['play']();}};TDV['Tour']['Script']['pauseGlobalAudio']=function(pC){var pD=window['currentGlobalAudios'];if(pD){var pE=pD[pC['get']('id')];if(pE)pC=pE['audio'];}if(pC['get']('state')=='playing')pC['pause']();};TDV['Tour']['Script']['playAudioList']=function(pF,pG){if(pF['length']==0x0)return;if(pF['length']==0x1&&pG){var pH=pF[0x0];pH['set']('loop',!![]);this['playGlobalAudio'](pH,!![],null,!![]);}else{var pI=-0x1;var pJ;var pK=this['playGlobalAudio'];var pL=function(){if(++pI>=pF['length']){if(!pG)return;pI=0x0;}pJ=pF[pI];pK(pJ,!![],pL,!![]);};pL();}};TDV['Tour']['Script']['playGlobalAudioWhilePlayActiveMedia']=function(pM,pN,pO,pP){var pQ=this['getActiveMediaWithViewer'](this['getMainViewer']());var pR=this['getFirstPlayListWithMedia'](pQ,!![]);var pS=this['getPlayListItemByMedia'](pR,pQ);var pT=pR['get']('items')['indexOf'](pS);return this['playGlobalAudioWhilePlay'](pR,pT,pM,pN,pO,pP);};TDV['Tour']['Script']['playGlobalAudioWhilePlay']=function(pU,pV,pW,pX,pY,pZ){var q0=function(q9){if(q9['data']['previousSelectedIndex']==pV){this['stopGlobalAudio'](pW);if(q4){var qa=q3['get']('media');var qb=qa['get']('audios');qb['splice'](qb['indexOf'](pW),0x1);qa['set']('audios',qb);}pU['unbind']('change',q0,this);if(pY)pY();}};var q2=window['currentGlobalAudios'];if(q2&&pW['get']('id')in q2){pW=q2[pW['get']('id')]['audio'];if(pW['get']('state')!='playing'){pW['play']();}return pW;}pU['bind']('change',q0,this);var q3=pU['get']('items')[pV];var q4=q3['get']('class')=='PanoramaPlayListItem';if(q4){var q5=q3['get']('media');var q2=(q5['get']('audios')||[])['slice']();if(pW['get']('class')=='MediaAudio'){var q6=this['rootPlayer']['createInstance']('PanoramaAudio');q6['set']('autoplay',![]);q6['set']('audio',pW['get']('audio'));q6['set']('loop',pW['get']('loop'));q6['set']('id',pW['get']('id'));this['cloneBindings'](pW,q6,'start');this['cloneBindings'](pW,q6,'end');this['cloneBindings'](pW,q6,'stateChange');pW=q6;}q2['push'](pW);q5['set']('audios',q2);}var q7=this['playGlobalAudio'](pW,pX,function(){pU['unbind']('change',q0,this);if(pY)pY['call'](this);});if(pZ===!![]){var q8=function(){if(q7['get']('state')=='playing'){this['pauseGlobalAudios']([q7],!![]);}else if(q7['get']('state')=='stopped'){this['resumeGlobalAudios']();q7['unbind']('stateChange',q8,this);}};q7['bind']('stateChange',q8,this);}return q7;};TDV['Tour']['Script']['playGlobalAudio']=function(qc,qd,qe,qf){var qg=function(){qc['unbind']('end',qg,this);this['stopGlobalAudio'](qc);if(qe)qe['call'](this);};qc=this['getGlobalAudio'](qc);var qh=window['currentGlobalAudios'];if(!qh){qh=window['currentGlobalAudios']={};}qh[qc['get']('id')]={'audio':qc,'asBackground':qf||![],'allowResume':qd};if(qc['get']('state')=='playing'){return qc;}if(!qc['get']('loop')){qc['bind']('end',qg,this);}qc['play']();return qc;};TDV['Tour']['Script']['restartTourWithoutInteraction']=function(qi){var qj=-0x1;this['bind']('userInteraction',qk['bind'](this),this);qk();function qk(){if(qj!=-0x1)clearTimeout(qj);qj=setTimeout(function(){var ql=this['get']('data')['tour'];if(ql){if(this['isCardboardViewMode']())location['reload']();else ql['reload']();}}['bind'](this),qi*0x3e8);}};TDV['Tour']['Script']['resumePlayers']=function(qm,qn){for(var qo=0x0;qo<qm['length'];++qo){var qp=qm[qo];var qq=this['getMediaFromPlayer'](qp);if(!qq)continue;if(qn&&qq['get']('class')!='Video360'&&'pauseCamera'in qp){qp['resumeCamera']();}else if(qp['get']('state')!='playing'){var qr=qp['get']('data');if(!qr){qr={};qp['set']('data',qr);}qr['playing']=!![];var qs=function(){if(qp['get']('state')=='playing'){delete qr['playing'];qp['unbind']('stateChange',qs,this);}};qp['bind']('stateChange',qs,this);qp['play']();}}};TDV['Tour']['Script']['stopGlobalAudios']=function(qt){var qu=window['currentGlobalAudios'];var qv=this;if(qu){Object['keys'](qu)['forEach'](function(qw){var qx=qu[qw];if(!qt||qt&&!qx['asBackground']){qv['stopGlobalAudio'](qx['audio']);}});}};TDV['Tour']['Script']['stopGlobalAudio']=function(qy){var qz=window['currentGlobalAudios'];if(qz){var qA=qz[qy['get']('id')];if(qA){qy=qA['audio'];delete qz[qy['get']('id')];if(Object['keys'](qz)['length']==0x0){window['currentGlobalAudios']=undefined;}}}if(qy)qy['stop']();};TDV['Tour']['Script']['setCameraSameSpotAsMedia']=function(qB,qC){var qD=this['getCurrentPlayerWithMedia'](qC);if(qD!=undefined){var qE=qB['get']('initialPosition');qE['set']('yaw',qD['get']('yaw'));qE['set']('pitch',qD['get']('pitch'));qE['set']('hfov',qD['get']('hfov'));}};TDV['Tour']['Script']['setComponentVisibility']=function(qF,qG,qH,qI,qJ,qK){var qL=this['getKey']('keepVisibility_'+qF['get']('id'));if(qL)return;this['unregisterKey']('visibility_'+qF['get']('id'));var qM=function(){if(qJ){qF['set'](qJ,qI);}qF['set']('visible',qG);if(qF['get']('class')=='ViewerArea'){try{if(qG)qF['restart']();else if(qF['get']('playbackState')=='playing')qF['pause']();}catch(qR){};}};var qN='effectTimeout_'+qF['get']('id');if(!qK&&window['hasOwnProperty'](qN)){var qP=window[qN];if(qP instanceof Array){for(var qQ=0x0;qQ<qP['length'];qQ++){clearTimeout(qP[qQ]);}}else{clearTimeout(qP);}delete window[qN];}else if(qG==qF['get']('visible')&&!qK)return;if(qH&&qH>0x0){var qP=setTimeout(function(){if(window[qN]instanceof Array){var qS=window[qN];var qT=qS['indexOf'](qP);qS['splice'](qT,0x1);if(qS['length']==0x0){delete window[qN];}}else{delete window[qN];}qM();},qH);if(window['hasOwnProperty'](qN)){window[qN]=[window[qN],qP];}else{window[qN]=qP;}}else{qM();}};TDV['Tour']['Script']['setDirectionalPanoramaAudio']=function(qU,qV,qW,qX){qU['set']('yaw',qV);qU['set']('pitch',qW);qU['set']('maximumAngle',qX);};TDV['Tour']['Script']['setLocale']=function(qY){this['stopTextToSpeech']();var qZ=this['get']('data')['localeManager'];if(qZ)this['get']('data')['localeManager']['setLocale'](qY);else{this['get']('data')['defaultLocale']=qY;this['get']('data')['forceDefaultLocale']=!![];}};TDV['Tour']['Script']['setEndToItemIndex']=function(r0,r1,r2){var r3=function(){if(r0['get']('selectedIndex')==r1){var r4=r0['get']('items')[r2];this['skip3DTransitionOnce'](r4['get']('player'));r0['set']('selectedIndex',r2);}};this['executeFunctionWhenChange'](r0,r1,r3);};TDV['Tour']['Script']['setMapLocation']=function(r5,r6){var r7=function(){r5['unbind']('stop',r7,this);r8['set']('mapPlayer',null);};r5['bind']('stop',r7,this);var r8=r5['get']('player');r8['set']('mapPlayer',r6);};TDV['Tour']['Script']['setMainMediaByIndex']=function(r9){var ra=undefined;if(r9>=0x0&&r9<this['mainPlayList']['get']('items')['length']){ra=this['mainPlayList']['get']('items')[r9];var rb=ra['get']('media');var rc=rb['get']('class')['indexOf']('Panorama')!=-0x1?_findLocationWithPanorama['call'](this,rb):null;if(rc){this['startPanoramaWithModel']['call'](this,ra,function(){this['mainPlayList']['set']('selectedIndex',r9);}['bind'](this));}else{this['mainPlayList']['set']('selectedIndex',r9);}}return ra;};TDV['Tour']['Script']['setMainMediaByName']=function(rd){var re=this['getMainViewer']();var rf=this['_getPlayListsWithViewer'](re);for(var rg=0x0,rh=rf['length'];rg<rh;++rg){var ri=rf[rg];var rj=ri['get']('items');for(var rk=0x0,rl=rj['length'];rk<rl;++rk){var rm=rj[rk];var rn=rm['get']('media')['get']('data');if(rn!==undefined&&rn['label']==rd&&rm['get']('player')['get']('viewerArea')==re){ri['set']('selectedIndex',rk);return rm;}}}};TDV['Tour']['Script']['executeAudioAction']=function(ro,rp,rq,rr,rs,rt){if(ro['length']==0x0)return;var ru,rv;var rw=this['getMainViewer']();if(rq&&!(rq===!![])){var rx=this['getPlayListsWithMedia'](rq);for(var ry=0x0;ry<rx['length'];++ry){var rz=rx[ry];var rB=this['getPlayListItemByMedia'](rz,rq);if(rB&&rB['get']('player')&&rB['get']('player')['get']('viewerArea')==rw){ru=rz;rv=ru['get']('items')['indexOf'](rB);break;}}if(!ru&&rx['length']>0x0){ru=rx[0x0];rv=this['getPlayListItemIndexByMedia'](ru,rq);}if(!ru)rq=!![];}if(rq===!![]){var rC=this['getActiveMediaWithViewer'](rw);if(rC){ru=this['getFirstPlayListWithMedia'](rC,!![]);var rB=this['getPlayListItemByMedia'](ru,rC);rv=ru['get']('items')['indexOf'](rB);}else{rq=null;}}var rD=[];var rE=function(){var rM=rD['concat']();var rN=![];var rO=function(rR){var rS=rR['source']['get']('state');if(rS=='playing'){if(!rN){rN=!![];this['pauseGlobalAudios'](rD,!![]);}}else if(rS=='stopped'){rM['splice'](rM['indexOf'](rR['source']),0x1);if(rM['length']==0x0){this['resumeGlobalAudios']();}rR['source']['unbind']('stateChange',rO,this);}}['bind'](this);for(var rP=0x0,rQ=rD['length'];rP<rQ;++rP){rD[rP]['bind']('stateChange',rO,this);}}['bind'](this);var rF=function(){for(var rT=0x0,rU=ro['length'];rT<rU;++rT){var rV=ro[rT];rD['push'](this['playGlobalAudio'](rV,rr));}if(rs)rE();}['bind'](this);var rG=function(){for(var rW=0x0,rX=ro['length'];rW<rX;++rW){var rY=ro[rW];rD['push'](this['playGlobalAudioWhilePlay'](ru,rv,rY,rr));}if(rs)rE();}['bind'](this);var rH=function(){for(var rZ=0x0,s0=ro['length'];rZ<s0;++rZ){this['pauseGlobalAudio'](ro[rZ]);}}['bind'](this);var rI=function(){for(var s1=0x0,s2=ro['length'];s1<s2;++s1){this['stopGlobalAudio'](ro[s1]);}}['bind'](this);var rJ=function(){for(var s3=0x0,s4=ro['length'];s3<s4;++s3){if(this['getGlobalAudio'](ro[s3])['get']('state')=='playing')return!![];}return![];}['bind'](this);if(rp=='playPause'||rp=='playStop'){if(rJ()){if(rp=='playPause'){rH();}else if(rp=='playStop'){rI();}}else{if(rs){if(rp=='playStop'){this['stopGlobalAudios'](!![]);}}if(ru){rG();}else{rF();}}}else if(rp=='play'||rp=='forcePlay'){if(rp=='forcePlay')rI();if(ru||rq===!![]){if(rt){var rK=ru?ru['get']('items')[rv]['get']('player'):this['getActivePlayerWithViewer'](this['getMainViewer']());if(rK&&rK['pauseCamera']){var rL=ro['concat']();endCallback=function(s5){rL['splice'](rL['indexOf'](s5),0x1);if(rL['length']==0x0)rK['resumeCamera']();}['bind'](this);rK['pauseCamera']();}}rG();}else{rF();}}else if(rp=='stop'){rI();}else if(rp=='pause'){rH();}};TDV['Tour']['Script']['executeAudioActionByTags']=function(s6,s7,s8,s9,sa,sb,sc){var sd=this['getAudioByTags'](s6,s7);this['executeAudioAction'](sd,s8,s9,sa,sb,sc);};TDV['Tour']['Script']['setPlayListSelectedIndex']=function(se,sf){var sg=se['get']('items')[sf];var sh=sg['get']('player');var si=sh['get']('viewerArea');var sj=this['getByClassName']('PlayList');for(var sk of sj){if(sk==se)continue;var sl=sk['get']('selectedIndex');if(sl!=-0x1){var sm=sk['get']('items')[sl];var sn=sm['get']('player');if(sn&&sn!=sh&&sn['get']('class')!='Model3DPlayer'&&sn['get']('viewerArea')==si)sk['set']('selectedIndex',-0x1);}}se['set']('selectedIndex',sf);};TDV['Tour']['Script']['setMediaBehaviour']=function(so,sp,sq,sr){var ss=this;var st=function(sQ){if(sQ['data']['state']=='stopped'&&sr){sx['call'](this,!![]);}};var su=function(){sD['unbind']('begin',su,ss);var sR=sD['get']('media');var sS=sR['get']('class');if(sS!='Panorama'&&sS!='Model3D'||sR['get']('camera')!=undefined&&sR['get']('camera')['get']('initialSequence')!=undefined){sE['bind']('stateChange',st,ss);}};var sv=function(){var sT=sA['get']('selectedIndex');if(sT!=-0x1){sC=sT;sx['call'](this,![]);}};var sw=function(){sx['call'](this,![]);};var sx=function(sU){if(!sA)return;var sV=sD['get']('media');if((sV['get']('class')=='Video360'||sV['get']('class')=='Video')&&sV['get']('loop')==!![]&&!sU)return;so['set']('selectedIndex',-0x1);if(sL&&sK!=-0x1){if(sL){if(sK>0x0&&sL['get']('movements')[sK-0x1]['get']('class')=='TargetPanoramaCameraMovement'){var sW=sM['get']('initialPosition');var sX=sW['get']('yaw');var sY=sW['get']('pitch');var sZ=sW['get']('hfov');var t0=sL['get']('movements')[sK-0x1];var t1=t0['get']('targetYaw');var t2=t0['get']('targetPitch');var t3=t0['get']('targetHfov');if(t1!==undefined)sW['set']('yaw',t1);if(t2!==undefined)sW['set']('pitch',t2);if(t3!==undefined)sW['set']('hfov',t3);var t4=function(t7){sW['set']('yaw',sX);sW['set']('pitch',sY);sW['set']('hfov',sZ);sG['unbind']('end',t4,this);};sG['bind']('end',t4,this);}sL['set']('movementIndex',sK);}}if(sE){sD['unbind']('begin',su,this);sE['unbind']('stateChange',st,this);for(var t5=0x0;t5<sN['length'];++t5){sN[t5]['unbind']('click',sw,this);}}if(sJ){var t6=this['getMediaFromPlayer'](sE);if((sA==this['mainPlayList']||sA['get']('items')['length']>0x1)&&(t6==undefined||t6==sD['get']('media'))){sA['set']('selectedIndex',sC);}if(so!=sA)sA['unbind']('change',sv,this);}else{sH['set']('visible',sI);}sA=undefined;};if(!sq){var sy=so['get']('selectedIndex');var sz=sy!=-0x1?so['get']('items')[so['get']('selectedIndex')]['get']('player'):this['getActivePlayerWithViewer'](this['getMainViewer']());if(sz){sq=this['getMediaFromPlayer'](sz);}}var sA=undefined;if(sq){var sB=this['getPlayListsWithMedia'](sq,!![]);if(sB['indexOf'](so)!=-0x1){sA=so;}else if(sB['indexOf'](this['mainPlayList'])!=-0x1){sA=this['mainPlayList'];}else if(sB['length']>0x0){sA=sB[0x0];}}if(!sA){so['set']('selectedIndex',sp);return;}var sC=sA['get']('selectedIndex');var sD=so['get']('items')[sp];var sE=sD['get']('player');var sF=this['getMediaFromPlayer'](sE);if(so['get']('selectedIndex')==sp&&sF==sD['get']('media')||sC==-0x1){return;}if(so['get']('selectedIndex')==sp&&sF!=sD['get']('media'))so['set']('selectedIndex',-0x1);var sG=sA['get']('items')[sC];var sH=sE['get']('viewerArea');var sI=sH['get']('visible');var sJ=sH==sG['get']('player')['get']('viewerArea');if(sJ){if(so!=sA){sA['set']('selectedIndex',-0x1);sA['bind']('change',sv,this);}}else{sH['set']('visible',!![]);}var sK=-0x1;var sL=undefined;var sM=sG['get']('camera');if(sM){sL=sM['get']('initialSequence');if(sL){sK=sL['get']('movementIndex');}}so['set']('selectedIndex',sp);var sN=[];var sO=function(t8){var t9=sE['get'](t8);if(t9==undefined)return;if(Array['isArray'](t9))sN=sN['concat'](t9);else sN['push'](t9);};sO('buttonStop');for(var sP=0x0;sP<sN['length'];++sP){sN[sP]['bind']('click',sw,this);}sD['bind']('begin',su,ss);this['executeFunctionWhenChange'](so,sp,sr?sw:undefined);};TDV['Tour']['Script']['setOverlayBehaviour']=function(ta,tb,tc,td){var te=function(){switch(tc){case'triggerClick':this['triggerOverlay'](ta,'click');break;case'stop':case'play':case'pause':ta[tc]();break;case'togglePlayPause':case'togglePlayStop':if(ta['get']('state')=='playing')ta[tc=='togglePlayPause'?'pause':'stop']();else ta['play']();break;}if(td){if(window['overlaysDispatched']==undefined)window['overlaysDispatched']={};var tj=ta['get']('id');window['overlaysDispatched'][tj]=!![];setTimeout(function(){delete window['overlaysDispatched'][tj];},0x3e8);}};if(td&&window['overlaysDispatched']!=undefined&&ta['get']('id')in window['overlaysDispatched'])return;var tf=this['getFirstPlayListWithMedia'](tb,!![]);if(tf!=undefined){var tg=this['getPlayListItemByMedia'](tf,tb);var th=tg['get']('player');if(tf['get']('items')['indexOf'](tg)!=tf['get']('selectedIndex')||this['isPanorama'](tg['get']('media'))&&th['get']('rendererPanorama')!=tg['get']('media')){var ti=function(tk){tg['unbind']('begin',ti,this);te['call'](this);};tg['bind']('begin',ti,this);return;}}te['call'](this);};TDV['Tour']['Script']['setOverlaysVisibility']=function(tl,tm,tn){var to='overlayEffects';var tp=undefined;var tq=this['getKey'](to);if(!tq){tq={};this['registerKey'](to,tq);}for(var tr=0x0,ts=tl['length'];tr<ts;++tr){var tt=tl[tr];if(!tt)continue;if(tn&&tn>0x0){tq[tt['get']('id')]=setTimeout(tu['bind'](this,tt),tn);}else{tu['call'](this,tt);}}function tu(tv){var tw=tv['get']('id');var tx=tq[tw];if(tx){clearTimeout(tx);delete tx[tw];}var ty=tv['get']('class')=='PanoramaModel3DLocation'?tv['get']('data')['object']:tv;if(!ty)return;var tz=tm=='toggle'?!ty['get']('enabled'):tm;ty['set']('enabled',tz);if(tv['get']('class')=='PanoramaModel3DLocation')tv['get']('data')['enabled']=tz;var tB=tv['get']('data');if(tz&&tB&&'group'in tB){var tC=this['getOverlaysByGroupname'](tB['group']);for(var tD=0x0,tE=tC['length'];tD<tE;++tD){var tG=tC[tD];if(tG!=tv)tG['set']('enabled',!tz);}}if(!tp)tp=this['getByClassName']('AdjacentPanorama');for(var tH=0x0,tI=tp['length'];tH<tI;++tH){var tJ=tp[tH];var tB=tJ['get']('data');if(!tB)continue;var tG=this[tB['overlayID']];if(tG&&tG==tv){tJ['set']('enabled',tG['get']('enabled'));}}}};TDV['Tour']['Script']['setOverlaysVisibilityByTags']=function(tK,tL,tM,tN,tO){var tP=tM?this['getPanoramaOverlaysByTags'](tM,tK,tN):this['getOverlaysByTags'](tK,tN);this['setOverlaysVisibility'](tP,tL,tO);};TDV['Tour']['Script']['setComponentsVisibilityByTags']=function(tQ,tR,tS,tT,tU){var tV=this['getComponentsByTags'](tQ,tU);for(var tW=0x0,tX=tV['length'];tW<tX;++tW){var tY=tV[tW];if(tR=='toggle')tY['get']('visible')?tT(tY):tS(tY);else tR?tS(tY):tT(tY);}};TDV['Tour']['Script']['setModel3DCameraSpot']=function(tZ,u0,u1,u2,u3){var u4=tZ['get']('selectedIndex');var u5=tZ['get']('items');var u6=u0['get']('media');var u7=u6['get']('camera');if(u4>=0x0&&u5[u4]==u0&&u6['get']('isLoaded')){u7['set']('yaw',u7['get']('yaw')%0x168);var u8=u0['get']('player')['get']('viewerArea');var u9=this['getActiveMediaWithViewer'](u8);if(u9['get']('class')['indexOf']('Panorama')!=-0x1){if(u2!==undefined){u2*=0x3e8;var ua=u8['get']('modelToPanoramaTraslationDuration');var ub=u8['get']('panoramaToModelTraslationDuration');var uc=()=>{clearTimeout(ud);tZ['unbind']('change',uc,this);u8['set']('modelToPanoramaTraslationDuration',ua);u8['set']('panoramaToModelTraslationDuration',ub);};var ud=setTimeout(uc,u2);tZ['bind']('change',uc,this);u8['set']('modelToPanoramaTraslationDuration',u2);u8['set']('panoramaToModelTraslationDuration',u2);}u7['setStoredPosition'](u1);}else{if(u7['get']('state')=='playing')u7['stop']();this['createTween'](u7,u1,u2,u3)['play']();}}else{if(u7['get']('state')=='playing')u7['stop']();this['startModel3DWithCameraSpot'](u0,u1);}};TDV['Tour']['Script']['setModel3DCameraSequence']=function(ue,uf,ug){var uh=ue['get']('selectedIndex');var ui=ue['get']('items');var uj=uf['get']('media');if(ui[uh]==uf&&uj['get']('isLoaded')){ug['play']();}else{var uk=ug['get']('movements');var ul={};if(uk['length']>0x0){var um=uk[0x0];if(um['get']('class')=='TargetModel3DCameraMovement'){var un=['x','y','z','yaw','pitch','fov','distance'];for(var uo in un){uo=un[uo];var up=um['get']('target'+uo['charAt'](0x0)['toUpperCase']()+uo['slice'](0x1));if(up!==undefined){ul[uo]=up;}}}}this['startModel3DWithCameraSpot'](uf,ul);var uq=function(){uf['unbind']('begin',uq,this);ug['play']();};uf['bind']('begin',uq,this);}};TDV['Tour']['Script']['setPanoramaCameraWithCurrentSpot']=function(ur,us){var ut=this['getActiveMediaWithViewer'](us||this['getMainViewer']());if(ut!=undefined&&(ut['get']('class')['indexOf']('Panorama')!=-0x1||ut['get']('class')=='Video360')){var uu=ur['get']('media');var uv=this['clonePanoramaCamera'](ur['get']('camera'));this['setCameraSameSpotAsMedia'](uv,ut);this['startPanoramaWithCamera'](uu,uv);}};TDV['Tour']['Script']['setPanoramaCameraWithSpot']=function(uw,ux,uy,uz,uA){var uB=ux['get']('media');var uC=ux['get']('player');if(uw['get']('items')[uw['get']('selectedIndex')]==ux||uC['get']('rendererPanorama')==uB){if(uy===undefined)uy=uC['get']('yaw');if(uz===undefined)uz=uC['get']('pitch');if(uA===undefined)uA=uC['get']('hfov');uC['moveTo'](uy,uz,uC['get']('roll'),uA);}else{var uD=this['clonePanoramaCamera'](ux['get']('camera'));var uE=uD['get']('initialPosition');if(uy!==undefined)uE['set']('yaw',uy);if(uz!==undefined)uE['set']('pitch',uz);if(uA!==undefined)uE['set']('hfov',uA);this['startPanoramaWithCamera'](uB,uD);}};TDV['Tour']['Script']['setSurfaceSelectionHotspotMode']=function(uF){var uG=this['getByClassName']('HotspotPanoramaOverlay');var uH=this['getByClassName']('PanoramaPlayer');var uI=uF=='hotspotEnabled';var uJ=uF=='circleEnabled';var uK=!!uF;uG['forEach'](function(uL){var uM=uL['get']('data');if(uM&&uM['hasPanoramaAction']==!![])uL['set']('enabledInSurfaceSelection',uI);});uH['forEach'](function(uN){uN['set']('adjacentPanoramaPositionsEnabled',uJ);uN['set']('surfaceSelectionEnabled',uK);});this['get']('data')['surfaceSelectionHotspotMode']=uF;};TDV['Tour']['Script']['setValue']=function(uO,uP,uQ){try{if('set'in uO)uO['set'](uP,uQ);else uO[uP]=uQ;}catch(uR){}};TDV['Tour']['Script']['setStartTimeVideo']=function(uS,uT){var uU=this['getPlayListItems'](uS);var uV=[];var uW=function(){for(var v0=0x0;v0<uU['length'];++v0){var v1=uU[v0];v1['set']('startTime',uV[v0]);v1['unbind']('stop',uW,this);}};for(var uX=0x0;uX<uU['length'];++uX){var uY=uU[uX];var uZ=uY['get']('player');if(!uZ)continue;if(uZ['get']('video')==uS&&uZ['get']('state')=='playing'){uZ['seek'](uT);}else{uV['push'](uY['get']('startTime'));uY['set']('startTime',uT);uY['bind']('stop',uW,this);}}};TDV['Tour']['Script']['setStartTimeVideoSync']=function(v2,v3){if(v2&&v3)this['setStartTimeVideo'](v2,v3['get']('currentTime'));};TDV['Tour']['Script']['skip3DTransitionOnce']=function(v4){if(v4&&v4['get']('class')=='PanoramaPlayer'){var v5=v4['get']('viewerArea');if(v5&&v5['get']('translationTransitionEnabled')==!![]){var v6=function(){v4['unbind']('preloadMediaShow',v6,this);v5['set']('translationTransitionEnabled',!![]);};v5['set']('translationTransitionEnabled',![]);v4['bind']('preloadMediaShow',v6,this);}}};TDV['Tour']['Script']['shareSocial']=function(v7,v8,v9,va,vb){if(v8==undefined){v8=location['href']['split'](location['search']||location['hash']||/[?#]/)[0x0];}if(v9){v8+=this['updateDeepLink'](va,![]);}v8=function(vd){switch(vd){case'email':return'mailto:?body='+encodeURIComponent(v8);case'facebook':var ve=v8['indexOf']('?')!=-0x1;v8=v8['replace']('#','?');if(ve){var vf=v8['lastIndexOf']('?');v8=v8['substring'](0x0,vf)+'&'+v8['substring'](vf+0x1);}return'https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(v8);case'linkedin':return'https://www.linkedin.com/shareArticle?mini=true&url='+encodeURIComponent(v8);case'pinterest':return'https://pinterest.com/pin/create/button/?url='+v8;case'telegram':return'https://t.me/share/url?url='+v8;case'twitter':return'https://twitter.com/intent/tweet?source=webclient&url='+v8;case'whatsapp':return'https://api.whatsapp.com/send/?text='+encodeURIComponent(v8);default:return v8;}}(v7);if(vb){for(var vc in vb){v8+='&'+vc+'='+vb[vc];}}if(v7=='clipboard')this['copyToClipboard'](v8);else this['openLink'](v8,'_blank');};TDV['Tour']['Script']['showComponentsWhileMouseOver']=function(vg,vh,vi,vj){var vk=function(vo){for(var vp=0x0,vq=vh['length'];vp<vq;vp++){var vr=vh[vp];if(!vj||vj(vr,vo))vr['set']('visible',vo);}};if(this['get']('isMobile')||this['get']('touchDevice')){vk['call'](this,!![]);}else{var vl=-0x1;var vm=function(){vk['call'](this,!![]);if(vl>=0x0)clearTimeout(vl);vg['bind']('rollOut',vn,this);};var vn=function(){var vs=function(){vk['call'](this,![]);};vg['unbind']('rollOut',vn,this);vl=setTimeout(vs['bind'](this),vi);};vg['bind']('rollOver',vm,this);}};TDV['Tour']['Script']['setObjectsVisibilityByTags']=function(vt,vu,vv,vw){var vx=this['_getObjectsByTags'](vu,['InnerModel3DObject'],'tags2Objects',vv)['filter'](function(vy){return vt['get']('objects')['indexOf'](vy)!=-0x1;}['bind'](this));this['setObjectsVisibility'](vx,vw);};TDV['Tour']['Script']['setObjectsVisibilityByID']=function(vz,vA,vB){var vC=vA['map'](function(vD){return this['getModel3DInnerObject'](vz,vD);}['bind'](this));this['setObjectsVisibility'](vC,vB);};TDV['Tour']['Script']['setObjectsVisibility']=function(vE,vF){vE['forEach'](function(vG){if(vG)vG['set']('enabled',vF==='toggle'?!vG['get']('enabled'):vF);}['bind'](this));};TDV['Tour']['Script']['getModel3DInnerObject']=function(vH,vI){var vJ=vH['get']('objects');for(var vK=0x0,vL=vJ['length'];vK<vL;++vK){var vM=vJ[vK];if(vM['get']('class')=='InnerModel3DObject'&&vM['get']('objectId')==vI)return vM;}return undefined;};TDV['Tour']['Script']['showPopupMedia']=function(vN,vO,vP,vQ,vR,vS){var vT=this;var vU=function(){window['resumeAudiosBlocked']=![];vP['set']('selectedIndex',-0x1);vT['getMainViewer']()['set']('toolTipEnabled',!![]);this['resumePlayers'](vZ,!![]);if(vY){this['unbind']('resize',vW,this);}vN['unbind']('close',vU,this);};var vV=function(){vN['hide']();};var vW=function(){var w0=function(wh){return vN['get'](wh)||0x0;};var w1=vT['get']('actualWidth');var w2=vT['get']('actualHeight');var w3=vT['getMediaWidth'](vO);var w4=vT['getMediaHeight'](vO);var w5=parseFloat(vQ)/0x64;var w6=parseFloat(vR)/0x64;var w7=w5*w1;var w8=w6*w2;var w9=w0('footerHeight');var wa=w0('headerHeight');if(!wa){var wb=w0('closeButtonIconHeight')+w0('closeButtonPaddingTop')+w0('closeButtonPaddingBottom');var wc=vT['getPixels'](w0('titleFontSize'))+w0('titlePaddingTop')+w0('titlePaddingBottom');wa=wb>wc?wb:wc;wa+=w0('headerPaddingTop')+w0('headerPaddingBottom');}var wd=w7-w0('bodyPaddingLeft')-w0('bodyPaddingRight')-w0('paddingLeft')-w0('paddingRight');var we=w8-wa-w9-w0('bodyPaddingTop')-w0('bodyPaddingBottom')-w0('paddingTop')-w0('paddingBottom');var wf=wd/we;var wg=w3/w4;if(wf>wg){w7=we*wg+w0('bodyPaddingLeft')+w0('bodyPaddingRight')+w0('paddingLeft')+w0('paddingRight');}else{w8=wd/wg+wa+w9+w0('bodyPaddingTop')+w0('bodyPaddingBottom')+w0('paddingTop')+w0('paddingBottom');}if(w7>w1*w5){w7=w1*w5;}if(w8>w2*w6){w8=w2*w6;}vN['set']('width',w7);vN['set']('height',w8);vN['set']('x',(w1-w0('actualWidth'))*0.5);vN['set']('y',(w2-w0('actualHeight'))*0.5);};if(vS){this['executeFunctionWhenChange'](vP,0x0,vV);}var vX=vO['get']('class');var vY=vX=='Video'||vX=='Video360';vP['set']('selectedIndex',0x0);if(vY){this['bind']('resize',vW,this);vW();vP['get']('items')[0x0]['get']('player')['play']();}else{vN['set']('width',vQ);vN['set']('height',vR);}window['resumeAudiosBlocked']=!![];this['getMainViewer']()['set']('toolTipEnabled',![]);var vZ=this['pauseCurrentPlayers'](!![]);vN['bind']('close',vU,this);vN['show'](this,!![]);};TDV['Tour']['Script']['showPopupImage']=function(wi,wj,wk,wl,wm,wn,wo,wp,wq,wr,ws,wt){var wu=![];var wv=function(){wN['unbind']('loaded',wy,this);wC['call'](this);};var ww=function(){wN['unbind']('click',ww,this);if(wR!=undefined){clearTimeout(wR);}};var wx=function(){setTimeout(wH,0x0);};var wy=function(){this['unbind']('click',wv,this);wM['set']('visible',!![]);wH();wO['set']('visible',!![]);wN['unbind']('loaded',wy,this);wN['bind']('resize',wx,this);wR=setTimeout(wz['bind'](this),0xc8);};var wz=function(){wR=undefined;if(wp){wN['bind']('click',ww,this);wB['call'](this);}wN['bind']('userInteractionStart',wI,this);wN['bind']('userInteractionEnd',wJ,this);wN['bind']('backgroundClick',wC,this);if(wj){wN['bind']('click',wF,this);wN['set']('imageCursor','hand');}wO['bind']('click',wC,this);if(ws)ws['call'](this);};var wA=function(){if(wp&&wR){clearTimeout(wR);wR=undefined;}};var wB=function(){if(wp){wA();wR=setTimeout(wC['bind'](this),wp);}};var wC=function(){this['getMainViewer']()['set']('toolTipEnabled',!![]);wu=!![];if(wR)clearTimeout(wR);if(wS)clearTimeout(wS);if(wp)ww();if(wn&&wn['get']('duration')>0x0){wn['bind']('end',wE,this);}else{setTimeout(()=>{wD['call'](this);},0x0);}wN['set']('visible',![]);wO['set']('visible',![]);wM['set']('visible',![]);this['unbind']('click',wv,this);wN['unbind']('backgroundClick',wC,this);wN['unbind']('userInteractionStart',wI,this);wN['unbind']('userInteractionEnd',wJ,this,!![]);wN['unbind']('resize',wx,this);if(wj){wN['unbind']('click',wF,this);wN['set']('cursor','default');}wO['unbind']('click',wC,this);this['resumePlayers'](wQ,wq==null||wr);if(wr){this['resumeGlobalAudios']();}if(wq){this['stopGlobalAudio'](wq);}};var wD=function(){wN['set']('image',null);if(wt)wt['call'](this);};var wE=function(){wn['unbind']('end',wE,this);wD['call'](this);};var wF=function(){wN['set']('image',wG()?wi:wj);};var wG=function(){return wN['get']('image')==wj;};var wH=function(){var wT=wN['get']('actualWidth')-wN['get']('imageLeft')-wN['get']('imageWidth')+0xa;var wU=wN['get']('imageTop')+0xa;if(wT<0xa)wT=0xa;if(wU<0xa)wU=0xa;wO['set']('right',wT);wO['set']('top',wU);};var wI=function(){wA();if(wS){clearTimeout(wS);wS=undefined;}else{wO['set']('visible',![]);}};var wJ=function(){wB['call'](this);if(!wu){wS=setTimeout(wK,0x12c);}};var wK=function(){wS=undefined;wO['set']('visible',!![]);wH();};var wL=function(wV){var wW=wV['get']('data');if(wW&&'extraLevels'in wW){var wX=this['rootPlayer']['createInstance'](wV['get']('class'));var wY=wW['extraLevels'];for(var wZ=0x0;wZ<wY['length'];wZ++){var x0=wY[wZ];if(typeof x0=='string')wY[wZ]=this[x0['replace']('this.','')];}wX['set']('levels',wV['get']('levels')['concat'](wY));wV=wX;}return wV;};this['getMainViewer']()['set']('toolTipEnabled',![]);var wM=this['veilPopupPanorama'];var wN=this['zoomImagePopupPanorama'];var wO=this['closeButtonPopupPanorama'];if(wo){for(var wP in wo){wO['set'](wP,wo[wP]);}}var wQ=this['pauseCurrentPlayers'](wq==null||!wr);if(wr){this['pauseGlobalAudios'](null,!![]);}if(wq){this['playGlobalAudio'](wq,!![]);}var wR=undefined;var wS=undefined;wi=wL['call'](this,wi);if(wj)wj=wL['call'](this,wj);wN['bind']('loaded',wy,this);setTimeout(function(){this['bind']('click',wv,this,![]);}['bind'](this),0x0);wN['set']('image',wi);wN['set']('customWidth',wk);wN['set']('customHeight',wl);wN['set']('showEffect',wm);wN['set']('hideEffect',wn);wN['set']('visible',!![]);return wN;};TDV['Tour']['Script']['showPopupPanoramaOverlay']=function(x1,x2,x3,x4,x5,x6,x7,x8){var x9=this['isCardboardViewMode']();if(x1['get']('visible')||!x9&&this['zoomImagePopupPanorama']['get']('visible'))return;this['getMainViewer']()['set']('toolTipEnabled',![]);if(!x9){var xa=this['zoomImagePopupPanorama'];var xb=x1['get']('showDuration');var xc=x1['get']('hideDuration');var xe=this['pauseCurrentPlayers'](x6==null||!x7);var xf=x1['get']('popupMaxWidth');var xg=x1['get']('popupMaxHeight');var xh=function(){var xl=function(){if(!this['isCardboardViewMode']())x1['set']('visible',![]);};x1['unbind']('showEnd',xh,this);x1['set']('showDuration',0x1);x1['set']('hideDuration',0x1);this['showPopupImage'](x3,x4,x1['get']('popupMaxWidth'),x1['get']('popupMaxHeight'),null,null,x2,x5,x6,x7,xl,xi);};var xi=function(){var xm=function(){x1['unbind']('hideEnd',xm,this);if(x8)x8();};var xn=function(){x1['unbind']('showEnd',xn,this);x1['bind']('hideEnd',xm,this,!![]);x1['set']('visible',![]);x1['set']('showDuration',xb);x1['set']('popupMaxWidth',xf);x1['set']('popupMaxHeight',xg);};this['resumePlayers'](xe,x6==null||!x7);x1['set']('hideDuration',xc);if(!x1['get']('visible')&&xc>0x0){var xo=xa['get']('imageWidth');var xp=xa['get']('imageHeight');x1['bind']('showEnd',xn,this,!![]);x1['set']('showDuration',0x1);x1['set']('popupMaxWidth',xo);x1['set']('popupMaxHeight',xp);x1['set']('visible',!![]);}else{x1['set']('showDuration',xb);}this['getMainViewer']()['set']('toolTipEnabled',!![]);};x1['bind']('showEnd',xh,this,!![]);}else{var xj=function(){this['resumePlayers'](xe,x6==null||x7);if(x7){this['resumeGlobalAudios']();}if(x6){this['stopGlobalAudio'](x6);}if(x4){x1['set']('image',x3);x1['unbind']('click',xk,this);}x1['unbind']('hideEnd',xj,this);this['getMainViewer']()['set']('toolTipEnabled',!![]);if(x8)x8();};var xk=function(){x1['set']('image',x1['get']('image')==x3?x4:x3);};var xe=this['pauseCurrentPlayers'](x6==null||!x7);if(x7){this['pauseGlobalAudios'](null,!![]);}if(x6){this['playGlobalAudio'](x6,!![]);}if(x4)x1['bind']('click',xk,this);x1['bind']('hideEnd',xj,this,!![]);}x1['set']('visible',!![]);};TDV['Tour']['Script']['showPopupPanoramaVideoOverlay']=function(xq,xr,xs,xt,xu){var xv=![];var xw=function(){xq['unbind']('showEnd',xw);xA['bind']('click',xy,this);xz();xA['set']('visible',!![]);}['bind'](this);var xx=function(){xv=!![];if(!xq['get']('loop'))xy();}['bind'](this);var xy=function(){window['resumeAudiosBlocked']=![];this['getMainViewer']()['set']('toolTipEnabled',!![]);xq['set']('visible',![]);xA['set']('visible',![]);xA['unbind']('click',xy,this);xq['unbind']('end',xx,this);xq['unbind']('hideEnd',xy,this,!![]);this['resumePlayers'](xC,!![]);if(xs){this['resumeGlobalAudios']();}if(xt)xt();if(xu&&xv)xu();}['bind'](this);var xz=function(){var xD=0xa;var xE=0xa;xA['set']('right',xD);xA['set']('top',xE);}['bind'](this);this['getMainViewer']()['set']('toolTipEnabled',![]);var xA=this['closeButtonPopupPanorama'];if(xr){for(var xB in xr){xA['set'](xB,xr[xB]);}}window['resumeAudiosBlocked']=!![];var xC=this['pauseCurrentPlayers'](!![]);if(xs){this['pauseGlobalAudios']();}xq['bind']('end',xx,this,!![]);xq['bind']('showEnd',xw,this,!![]);xq['bind']('hideEnd',xy,this,!![]);xq['set']('visible',!![]);};TDV['Tour']['Script']['showWindow']=function(xF,xG,xH){if(xF['get']('visible')==!![]){return;}var xI=function(){this['getMainViewer']()['set']('toolTipEnabled',!![]);if(xH){this['resumeGlobalAudios']();}xJ();this['resumePlayers'](xM,!xH);xF['unbind']('close',xI,this);};var xJ=function(){xF['unbind']('click',xJ,this);if(xK!=undefined){clearTimeout(xK);}};var xK=undefined;if(xG){var xL=function(){xF['hide']();};xF['bind']('click',xJ,this);xK=setTimeout(xL,xG);}this['getMainViewer']()['set']('toolTipEnabled',![]);if(xH){this['pauseGlobalAudios'](null,!![]);}var xM=this['pauseCurrentPlayers'](!xH);xF['bind']('close',xI,this);xF['show'](this,!![]);};TDV['Tour']['Script']['startModel3DWithCameraSpot']=function(xN,xO){var xP=xN['get']('media');var xQ=window['currentPanoramasWithCameraChanged']==undefined||!(xP['get']('id')in window['currentPanoramasWithCameraChanged']);if(!xQ){return;}var xR=xP['get']('camera');xO=Object['assign']({},xO);if(!xP['get']('isLoaded')){var xS={};for(var xU in xO){var xV='initial'+xU['charAt'](0x0)['toUpperCase']()+xU['slice'](0x1);xS[xV]=xR['get'](xV);xO[xV]=xO[xU];xR['set'](xV,xO[xV]);delete xO[xU];}if(window['currentPanoramasWithCameraChanged']==undefined){window['currentPanoramasWithCameraChanged']={};}var xW=xP['get']('id');window['currentPanoramasWithCameraChanged'][xW]=[xN];var xX=function(){if(xW in window['currentPanoramasWithCameraChanged']){delete window['currentPanoramasWithCameraChanged'][xW];}xN['unbind']('begin',xX,this);for(var y5 in xS){xR['set'](y5,xS[y5]);}};xN['bind']('begin',xX,this);}else{for(var xU in xO){xR['set'](xU,xO[xU]);}xR['setStoredPosition'](xO);}var xY=xN['get']('player');var xZ=xY['get']('viewerArea');var y0=this['getActivePlayersWithViewer'](xZ);var y1=y0['find'](function(y6){return this['getMediaFromPlayer'](y6)['get']('class')['indexOf']('Panorama')!=-0x1;}['bind'](this));var y2=xP['get']('data');if(y1&&y2['panoramaLocations']){var y3=this['getMediaFromPlayer'](y1);var y4=_getObject(this,y2['panoramaLocations']['find'](y7=>y3==_getObject(this,_getObject(this,y7)['get']('data')['panorama'])));if(y4&&!y4['get']('forceModelLoading')){y4['set']('forceModelLoading',!![]);xN['bind']('begin',function y8(){xN['unbind']('begin',y8,this);y4['set']('forceModelLoading',![]);},this);}}};TDV['Tour']['Script']['startPanoramaWithCamera']=function(y9,ya){var yb=this['getByClassName']('PlayList');if(yb['length']==0x0)return;var yc=window['currentPanoramasWithCameraChanged']==undefined||!(y9['get']('id')in window['currentPanoramasWithCameraChanged']);var yd=[];for(var yf=0x0,yg=yb['length'];yf<yg;++yf){var yh=yb[yf];var yi=yh['get']('items');for(var yj=0x0,yk=yi['length'];yj<yk;++yj){var ym=yi[yj];if(ym['get']('media')==y9&&(ym['get']('class')=='PanoramaPlayListItem'||ym['get']('class')=='Video360PlayListItem')){if(yc){yd['push']({'camera':ym['get']('camera'),'item':ym});}ym['set']('camera',ya);}}}if(yd['length']>0x0){if(window['currentPanoramasWithCameraChanged']==undefined){window['currentPanoramasWithCameraChanged']={};}var yn=y9['get']('id');window['currentPanoramasWithCameraChanged'][yn]=yd;var yo=function(){if(yn in window['currentPanoramasWithCameraChanged']){delete window['currentPanoramasWithCameraChanged'][yn];}for(var yq=0x0;yq<yd['length'];yq++){yd[yq]['item']['set']('camera',yd[yq]['camera']);yd[yq]['item']['unbind']('end',yo,this);}};for(var yf=0x0;yf<yd['length'];yf++){var yp=yd[yf];var ym=yp['item'];this['skip3DTransitionOnce'](ym['get']('player'));ym['bind']('end',yo,this);}}};TDV['Tour']['Script']['stopAndGoCamera']=function(yr,ys){var yt=yr['get']('initialSequence');yt['pause']();var yu=function(){yt['play']();};setTimeout(yu,ys);};TDV['Tour']['Script']['syncPlaylists']=function(yv){var yw=function(yE,yF){for(var yG=0x0,yH=yv['length'];yG<yH;++yG){var yI=yv[yG];if(yI!=yF){var yJ=yI['get']('items');for(var yK=0x0,yL=yJ['length'];yK<yL;++yK){if(yJ[yK]['get']('media')==yE){if(yI['get']('selectedIndex')!=yK){yI['set']('selectedIndex',yK);}break;}}}}};var yx=function(yM){var yN=yM['source'];var yO=yN['get']('selectedIndex');if(yO<0x0)return;var yP=yN['get']('items')[yO]['get']('media');yw(yP,yN);};var yy=function(yQ){var yR=yQ['source']['get']('panoramaMapLocation');if(yR){var yS=yR['get']('map');yw(yS);}};for(var yA=0x0,yC=yv['length'];yA<yC;++yA){yv[yA]['bind']('change',yx,this);}var yD=this['getByClassName']('MapPlayer');for(var yA=0x0,yC=yD['length'];yA<yC;++yA){yD[yA]['bind']('panoramaMapLocation_change',yy,this);}};TDV['Tour']['Script']['translate']=function(yT){return this['get']('data')['localeManager']['trans'](yT);};TDV['Tour']['Script']['triggerOverlay']=function(yU,yV){if(yU['get']('areas')!=undefined){var yW=yU['get']('areas');for(var yX=0x0;yX<yW['length'];++yX){yW[yX]['trigger'](yV);}}else{yU['trigger'](yV);}};TDV['Tour']['Script']['updateDeepLink']=function(yY){yY=yY||{};var yZ=this['mainPlayList']['get']('selectedIndex');var z0;var z1=yZ>=0x0?this['mainPlayList']['get']('items')[yZ]['get']('media'):this['getActiveMediaWithViewer'](this['getMainViewer']());if(z1!=undefined){var z3=z1['get']('data');if(z3&&z3['label']){if(yZ>=0x0){var z5=this['mainPlayList']['get']('items')['reduce'](function(zq,zr){var zs=zr['get']('media')['get']('data');return zs&&z3['label']==zs['label']?zq+0x1:zq;},0x0);if(z5!=0x1)z0='#media='+(yZ+0x1);}if(!z0)z0='#media-name='+encodeURIComponent(z3['label']);}else if(yZ>=0x0){z0='#media='+(yZ+0x1);}}if(z1){if(yY['includeCurrentView']===!![]){var z6=this['getActivePlayerWithViewer'](this['getMainViewer']());if(z6){switch(z6['get']('class')){case'PanoramaPlayer':var z7=z6['get']('yaw');var z8=z6['get']('pitch');var z9=z6['get']('hfov');if(!isNaN(z7)&&!isNaN(z8))z0+='&yaw='+z7['toFixed'](0x2)+'&pitch='+z8['toFixed'](0x2);if(!isNaN(z9))z0+='&fov='+z9['toFixed'](0x2);break;case'Model3DPlayer':var za=z6['get']('model');var zb=za['get']('camera');var zc=[];zc['push']('yaw='+zb['get']('yaw')['toFixed'](0x2));zc['push']('pitch='+zb['get']('pitch')['toFixed'](0x2));zc['push']('x='+zb['get']('x')['toFixed'](0x5));zc['push']('y='+zb['get']('y')['toFixed'](0x5));zc['push']('z='+zb['get']('z')['toFixed'](0x5));if(zb['get']('class')=='OrbitModel3DCamera')zc['push']('distance='+zb['get']('distance')['toFixed'](0x5));z0+='&'+zc['join']('&');break;}}}if(yY['includeCurrentVisibleHotspots']===!![]){var zd=this['getOverlays'](z1);var ze=[];var zf=[];for(var zg=0x0,z5=zd['length'];zg<z5;++zg){var zh=zd[zg];var zi=zh['get']('enabled');var z3=zh['get']('data');if(zi===undefined||!z3||!z3['label'])continue;var zj=encodeURIComponent(z3['label']);var zk=z3['group'];if(zi!=z3['defaultEnabledValue']){if(zi){ze['push'](zj);}else if(!zk){zf['push'](zj);}}}if(ze['length']>0x0)z0+='&son='+ze['join'](',');if(zf['length']>0x0)z0+='&hon='+zf['join'](',');if(z1['get']('class')=='Model3D'){var zl=z1['get']('variant');if(zl)z0+='&variant='+zl;var zm=z1['get']('objects');var zn=[];var zo=[];zm['forEach'](function(zt){if(zt['get']('class')=='InnerModel3DObject')(zt['get']('enabled')?zn:zo)['push'](zt['get']('objectId'));});if(zn['length']>0x0)z0+='&sobjids='+zn['join'](',');if(zo['length']>0x0)z0+='&hobjids='+zo['join'](',');}}if(yY['includeCurrentMeasureModel3DObjects']===!![]&&z1['get']('class')=='Model3D'){var zp=[];z1['get']('objects')['forEach'](function(zu){if(zu['get']('class')=='MeasureModel3DObject'&&zu['get']('mode')!='create'){var zv=[zu['get']('data')['id'],zu['get']('x'),zu['get']('y'),zu['get']('z')];zu['get']('points')['forEach'](function(zw){zv['push'](zw['get']('x'),zw['get']('y'),zw['get']('z'));});if(zv['length']>0x4){zp['push'](zv['join'](','));}}});if(zp['length']>0x0)z0+='&measures='+zp['join']('+');}}if(z0&&yY['setHash']===!![]){location['hash']=z0;}return z0;};TDV['Tour']['Script']['updateMediaLabelFromPlayList']=function(zx,zy,zz){var zA=function(){var zC=zx['get']('selectedIndex');if(zC>=0x0){var zD=function(){zG['unbind']('begin',zD);zE(zC);};var zE=function(zH){var zI=zG['get']('media');var zJ=zI['get']('data');var zK=zJ!==undefined?zJ['description']:undefined;zF(zK);};var zF=function(zL){if(zL!==undefined){zy['set']('html','<div\x20style=\x22text-align:left\x22><SPAN\x20STYLE=\x22color:#FFFFFF;font-size:12px;font-family:Verdana\x22><span\x20color=\x22white\x22\x20font-family=\x22Verdana\x22\x20font-size=\x2212px\x22>'+zL+'</SPAN></div>');}else{zy['set']('html','');}var zM=zy['get']('html');zy['set']('visible',zM!==undefined&&zM);};var zG=zx['get']('items')[zC];if(zy['get']('html')){zF('Loading...');zG['bind']('begin',zD);}else{zE(zC);}}};var zB=function(){zy['set']('html',undefined);zx['unbind']('change',zA,this);zz['unbind']('stop',zB,this);};if(zz){zz['bind']('stop',zB,this);}zx['bind']('change',zA,this);zA();};TDV['Tour']['Script']['updateVideoCues']=function(zN,zO){var zP=zN['get']('items')[zO];var zQ=zP['get']('media');if(zQ['get']('cues')['length']==0x0)return;var zR=zP['get']('player');var zS=[];var zT=function(){if(zN['get']('selectedIndex')!=zO){zQ['unbind']('cueChange',zU,this);zN['unbind']('change',zT,this);}};var zU=function(zV){var zW=zV['data']['activeCues'];for(var zX=0x0,zY=zS['length'];zX<zY;++zX){var zZ=zS[zX];if(zW['indexOf'](zZ)==-0x1&&(zZ['get']('startTime')>zR['get']('currentTime')||zZ['get']('endTime')<zR['get']('currentTime')+0.5)){zZ['trigger']('end');}}zS=zW;};zQ['bind']('cueChange',zU,this);zN['bind']('change',zT,this);};TDV['Tour']['Script']['visibleComponentsIfPlayerFlagEnabled']=function(A0,A1){var A2=this['get'](A1);for(var A3 in A0){A0[A3]['set']('visible',A2);}};TDV['Tour']['Script']['quizStart']=function(){var A4=this['get']('data')['quiz'];return A4?A4['start']():undefined;};TDV['Tour']['Script']['quizFinish']=function(){var A5=this['get']('data')['quiz'];return A5?A5['finish']():undefined;};TDV['Tour']['Script']['quizPauseTimer']=function(){var A6=this['get']('data')['quiz'];return A6?A6['pauseTimer']():undefined;};TDV['Tour']['Script']['quizResumeTimer']=function(){var A7=this['get']('data')['quiz'];return A7?A7['continueTimer']():undefined;};TDV['Tour']['Script']['quizSetItemFound']=function(A8){var A9=this['get']('data')['quiz'];if(A9)A9['setItemFound'](A8);};TDV['Tour']['Script']['quizShowQuestion']=function(Aa){var Ab=this['get']('data');var Ac=Ab['quiz'];var Ad;if(Ac){var Ae=this['pauseCurrentPlayers'](!![]);var Af=this[Aa];var Ag;var Ah=this['get']('data')['tour']['isIPad']();if(!Af['media']){Ag=this['get']('isMobile')&&!Ah?{'theme':{'window':{'height':undefined,'maxHeight':this['get']('actualHeight'),'optionsContainer':{'height':'100%'}}}}:{'theme':{'window':{'width':'40%','height':undefined,'maxHeight':0x2bc,'optionsContainer':{'width':'100%'}}}};}else if(this['get']('isMobile')&&!Ah&&this['get']('orientation')=='landscape'){Ag={'theme':{'window':{'bodyContainer':{'layout':'horizontal','paddingLeft':0x1e,'paddingRight':0x1e},'mediaContainer':{'width':'60%','height':'100%'},'buttonsContainer':{'paddingLeft':0x14,'paddingRight':0x14},'optionsContainer':{'width':'40%','height':'100%','paddingLeft':0x0,'paddingRight':0x0}}}};}else if(Ah&&this['get']('orientation')=='portrait'){Ag={'theme':{'window':{'width':'90%'}}};}if(this['get']('isMobile')&&this['get']('orientation')=='landscape'){var Ai=this['get']('data')['tour']['getNotchValue']();if(Ai>0x0){Ag=this['mixObject'](Ag||{},{'theme':{'window':{'width':undefined,'left':Ai,'right':Ai}}});}}var Aj=this['get']('data')['textToSpeechConfig']['speechOnQuizQuestion']&&!!Af['title'];if(Aj)this['textToSpeech'](Af['title'],Aa);Ad=Ac['showQuestion'](Aa,Ag);Ad['then'](function(Ak){if(Aj)this['stopTextToSpeech']();this['resumePlayers'](Ae,!![]);}['bind'](this));}return Ad;};TDV['Tour']['Script']['quizShowScore']=function(Al){var Am=this['get']('data');var An=Am['quiz'];if(An){if(this['get']('isMobile')){Al=Al||{};Al=this['mixObject'](Al,Am[this['get']('orientation')=='portrait'?'scorePortraitConfig':'scoreLandscapeConfig']);}return An['showScore'](Al);}};TDV['Tour']['Script']['quizShowTimeout']=function(Ao,Ap){var Aq=this['get']('data');var Ar=Aq['quiz'];if(Ar){if(this['get']('isMobile')){Ap=Ap||{};Ap=this['mixObject'](Ap,Aq[this['get']('orientation')=='portrait'?'scorePortraitConfig':'scoreLandscapeConfig']);}Ar['showTimeout'](Ao,Ap);}};TDV['Tour']['Script']['stopTextToSpeech']=function(As){if(window['speechSynthesis']&&(As==undefined||this['t2sLastID']==As)){var At=window['speechSynthesis'];if(At['speaking']){At['cancel']();}this['t2sLastID']=undefined;}};TDV['Tour']['Script']['getStateTextToSpeech']=function(Au){return this['t2sLastID']==Au?'playing':'stopped';};TDV['Tour']['Script']['textToSpeech']=function(Av,Aw,Ax){if(this['get']('mute')){return;}var Ay=this['get']('data');var Az=Ay['disableTTS']||![];if(Az)return;if(Aw!=undefined&&this['t2sLastID']!=Aw||Aw==undefined){Ax=Ax||0x0;if(this['t2sLastID']&&Ax>this['t2sLastPriority']){return;}var AA=Ay['tour'];var AB=Ay['textToSpeechConfig'];var AC=Ay['localeManager']['currentLocaleID'];if(window['speechSynthesis']){var AD=window['speechSynthesis'];if(AD['speaking']){AD['cancel']();}var AE=new SpeechSynthesisUtterance(Av);if(AC)AE['lang']=AC;var AF;if(AB){AE['volume']=AB['volume'];AE['pitch']=AB['pitch'];AE['rate']=AB['rate'];if(AB['stopBackgroundAudio'])this['pauseGlobalAudios'](null,!![]);}AE['onend']=function(){this['t2sLastID']=null;if(AF)clearInterval(AF);if(AB['stopBackgroundAudio'])this['resumeGlobalAudios']();}['bind'](this);if(navigator['userAgent']['indexOf']('Chrome')!=-0x1&&!this['get']('isMobile')){AF=setInterval(function(){AD['pause']();AD['resume']();},0xbb8);}AD['speak'](AE);this['t2sLastPriority']=Ax;this['t2sLastID']=Aw;}else if(AA['isMobileApp']()){if(!AA['isIOS']()){var AG=function(AH,AI){var AJ={'command':'tts','type':AH};if(AI)AJ=this['mixObject'](AJ,AI);android['sendJSON'](JSON['stringify'](AJ));}['bind'](this);android['onTTSEnd']=function(){this['t2sLastID']=null;if(AB['stopBackgroundAudio'])this['resumeGlobalAudios']();android['onTTSEnd']=undefined;}['bind'](this);AG('stop');if(AB){AG('init',{'volume':AB['volume'],'pitch':AB['pitch'],'rate':AB['rate'],'language':AC});if(AB['stopBackgroundAudio'])this['pauseGlobalAudios'](null,!![]);}AG('play',{'text':Av,'androidCallback':'onTTSEnd'});}else{console['error']('Text\x20to\x20Speech\x20isn\x27t\x20supported\x20on\x20this\x20browser');}}else{console['error']('Text\x20to\x20Speech\x20isn\x27t\x20supported\x20on\x20this\x20browser');}}};TDV['Tour']['Script']['textToSpeechComponent']=function(AK){var AL=AK['get']('class');var AM;if(AL=='HTMLText'){var AN=AK['get']('html');if(AN){AM=this['htmlToPlainText'](AN,{'linkProcess':function(AO,AP){return AP;}});}}else if(AL=='Button'){AM=AK['get']('label');}else if(AL=='Label'){AM=AK['get']('text');}if(AM){this['textToSpeech'](AM,AK['get']('id'));}};TDV['Tour']['Script']['toggleTextToSpeechComponent']=function(AQ){var AR=AQ['get']('id');if(this['getStateTextToSpeech'](AR)!='playing')this['textToSpeechComponent'](AQ);else this['stopTextToSpeech'](AR);};TDV['Tour']['Script']['_initTTSTooltips']=function(){function AS(AU){var AV=AU['source'];this['textToSpeech'](AV['get']('toolTip'),AV['get']('id'),0x1);}function AT(AW){var AX=AW['source'];this['stopTextToSpeech'](AX['get']('id'));}setTimeout(function(){var AY=this['getByClassName']('UIComponent');for(var AZ=0x0,B0=AY['length'];AZ<B0;++AZ){var B1=AY[AZ];var B2=B1['get']('toolTip');if(!!B2||B1['get']('class')=='ViewerArea'){B1['bind']('toolTipShow',AS,this);B1['bind']('toolTipHide',AT,this);}}}['bind'](this),0x0);};TDV['Tour']['Script']['takeScreenshot']=function(B3){var B4=this['getActivePlayerWithViewer'](B3);if(B4&&(B4['get']('class')=='PanoramaPlayer'||B4['get']('class')=='Model3DPlayer'))B4['saveScreenshot']();};TDV['Tour']['Script']['htmlToPlainText']=function htmlToPlainText(B5,B6){var B7=function(Bl,Bm){var Bn='';for(var Bo=0x0;Bo<Bm;Bo+=0x1){Bn+=Bl;}return Bn;};var B8=null;var B9=null;var Ba='underline';var Bb='indention';var Bc='-';var Bd=0x3;var Be='-';var Bf=![];if(!!B6){if(typeof B6['linkProcess']==='function'){B8=B6['linkProcess'];}if(typeof B6['imgProcess']==='function'){B9=B6['imgProcess'];}if(!!B6['headingStyle']){Ba=B6['headingStyle'];}if(!!B6['listStyle']){Bb=B6['listStyle'];}if(!!B6['uIndentionChar']){Bc=B6['uIndentionChar'];}if(!!B6['listIndentionTabs']){Bd=B6['listIndentionTabs'];}if(!!B6['oIndentionChar']){Be=B6['oIndentionChar'];}if(!!B6['keepNbsps']){Bf=B6['keepNbsps'];}}var Bg=B7(Bc,Bd);var Bh=String(B5)['replace'](/\n|\r/g,'\x20');const Bi=Bh['match'](/<\/body>/i);if(Bi){Bh=Bh['substring'](0x0,Bi['index']);}const Bj=Bh['match'](/<body[^>]*>/i);if(Bj){Bh=Bh['substring'](Bj['index']+Bj[0x0]['length'],Bh['length']);}Bh=Bh['replace'](/<(script|style)( [^>]*)*>((?!<\/\1( [^>]*)*>).)*<\/\1>/gi,'');Bh=Bh['replace'](/<(\/)?((?!h[1-6]( [^>]*)*>)(?!img( [^>]*)*>)(?!a( [^>]*)*>)(?!ul( [^>]*)*>)(?!ol( [^>]*)*>)(?!li( [^>]*)*>)(?!p( [^>]*)*>)(?!div( [^>]*)*>)(?!td( [^>]*)*>)(?!br( [^>]*)*>)[^>\/])[^<>]*>/gi,'');Bh=Bh['replace'](/<img([^>]*)>/gi,function(Bp,Bq){var Br='';var Bs='';var Bt=/src="([^"]*)"/i['exec'](Bq);var Bu=/alt="([^"]*)"/i['exec'](Bq);if(Bt!==null){Br=Bt[0x1];}if(Bu!==null){Bs=Bu[0x1];}if(typeof B9==='function'){return B9(Br,Bs);}if(Bs===''){return'![image]\x20('+Br+')';}return'!['+Bs+']\x20('+Br+')';});function Bk(){return function(Bv,Bw,Bx,By){var Bz=0x0;if(Bx&&/start="([0-9]+)"/i['test'](Bx)){Bz=/start="([0-9]+)"/i['exec'](Bx)[0x1]-0x1;}var BA='<p>'+By['replace'](/<li[^>]*>(((?!<li[^>]*>)(?!<\/li>).)*)<\/li>/gi,function(BB,BC){var BD=0x0;var BE=BC['replace'](/(^|(<br \/>))(?!<p>)/gi,function(){if(Bw==='o'&&BD===0x0){Bz+=0x1;BD+=0x1;return'<br\x20/>'+Bz+B7(Be,Bd-String(Bz)['length']);}return'<br\x20/>'+Bg;});return BE;})+'</p>';return BA;};}if(Bb==='linebreak'){Bh=Bh['replace'](/<\/?ul[^>]*>|<\/?ol[^>]*>|<\/?li[^>]*>/gi,'\x0a');}else if(Bb==='indention'){while(/<(o|u)l[^>]*>(.*)<\/\1l>/gi['test'](Bh)){Bh=Bh['replace'](/<(o|u)l([^>]*)>(((?!<(o|u)l[^>]*>)(?!<\/(o|u)l>).)*)<\/\1l>/gi,Bk());}}if(Ba==='linebreak'){Bh=Bh['replace'](/<h([1-6])[^>]*>([^<]*)<\/h\1>/gi,'\x0a$2\x0a');}else if(Ba==='underline'){Bh=Bh['replace'](/<h1[^>]*>(((?!<\/h1>).)*)<\/h1>/gi,function(BF,BG){return'\x0a&nbsp;\x0a'+BG+'\x0a'+B7('=',BG['length'])+'\x0a&nbsp;\x0a';});Bh=Bh['replace'](/<h2[^>]*>(((?!<\/h2>).)*)<\/h2>/gi,function(BH,BI){return'\x0a&nbsp;\x0a'+BI+'\x0a'+B7('-',BI['length'])+'\x0a&nbsp;\x0a';});Bh=Bh['replace'](/<h([3-6])[^>]*>(((?!<\/h\1>).)*)<\/h\1>/gi,function(BJ,BK,BL){return'\x0a&nbsp;\x0a'+BL+'\x0a&nbsp;\x0a';});}else if(Ba==='hashify'){Bh=Bh['replace'](/<h([1-6])[^>]*>([^<]*)<\/h\1>/gi,function(BM,BN,BO){return'\x0a&nbsp;\x0a'+B7('#',BN)+'\x20'+BO+'\x0a&nbsp;\x0a';});}Bh=Bh['replace'](/<br( [^>]*)*>|<p( [^>]*)*>|<\/p( [^>]*)*>|<div( [^>]*)*>|<\/div( [^>]*)*>|<td( [^>]*)*>|<\/td( [^>]*)*>/gi,'\x0a');Bh=Bh['replace'](/<a[^>]*href="([^"]*)"[^>]*>([^<]+)<\/a[^>]*>/gi,function(BP,BQ,BR){if(typeof B8==='function'){return B8(BQ,BR);}return'\x20['+BR+']\x20('+BQ+')\x20';});Bh=Bh['replace'](/\n[ \t\f]*/gi,'\x0a');Bh=Bh['replace'](/\n\n+/gi,'\x0a');if(Bf){Bh=Bh['replace'](/( |\t)+/gi,'\x20');Bh=Bh['replace'](/&nbsp;/gi,'\x20');}else{Bh=Bh['replace'](/( |&nbsp;|\t)+/gi,'\x20');}Bh=Bh['replace'](/\n +/gi,'\x0a');Bh=Bh['replace'](/^ +/gi,'');while(Bh['indexOf']('\x0a')===0x0){Bh=Bh['substring'](0x1);}if(Bh['length']===0x0||Bh['lastIndexOf']('\x0a')!==Bh['length']-0x1){Bh+='\x0a';}return Bh;};TDV['Tour']['Script']['openEmbeddedPDF']=function(BS,BT){var BU=!!window['MSInputMethodContext']&&!!document['documentMode'];if(BU){this['openLink'](BT,'_blank');return;}var BV=BS['get']('class');var BW=!new RegExp('^(?:[a-z]+:)?//','i')['test'](BT);if(BW&&BV=='WebFrame'){var BX=location['origin']+location['pathname'];BS['set']('url','lib/pdfjs/web/viewer.html?file='+encodeURIComponent(BX['substring'](0x0,BX['lastIndexOf']('/'))+'/'+BT)+'#0');}else{var BY=location['origin']==new URL(BT)['origin'];var BZ='<iframe\x20\x20id=\x27googleViewer\x27\x20src=\x27https://docs.google.com/viewer?url=[url]&embedded=true\x27\x20width=\x27100%\x27\x20height=\x27100%\x27\x20frameborder=\x270\x27>'+'<p>This\x20browser\x20does\x20not\x20support\x20inline\x20PDFs.\x20Please\x20download\x20the\x20PDF\x20to\x20view\x20it:\x20<a\x20href=\x27[url]\x27>Download\x20PDF</a></p>'+'</iframe>';var C0=/^((?!chrome|android|crios|ipad|iphone).)*safari/i['test'](navigator['userAgent']);var C1='<div\x20id=\x22content\x22\x20style=\x22width:100%;height:100%;position:absolute;left:0;top:0;\x22></div>'+'<script\x20type=\x22text/javascript\x22>'+'!function(root,factory){\x22function\x22==typeof\x20define&&define.amd?define([],factory):\x22object\x22==typeof\x20module&&module.exports?module.exports=factory():root.PDFObject=factory()}(this,function(){\x22use\x20strict\x22;if(void\x200===window||void\x200===window.navigator||void\x200===window.navigator.userAgent||void\x200===window.navigator.mimeTypes)return!1;let\x20nav=window.navigator,ua=window.navigator.userAgent,isIE=\x22ActiveXObject\x22in\x20window,isModernBrowser=void\x200!==window.Promise,supportsPdfMimeType=void\x200!==nav.mimeTypes[\x22application/pdf\x22],isMobileDevice=void\x200!==nav.platform&&\x22MacIntel\x22===nav.platform&&void\x200!==nav.maxTouchPoints&&nav.maxTouchPoints>1||/Mobi|Tablet|Android|iPad|iPhone/.test(ua),isSafariDesktop=!isMobileDevice&&void\x200!==nav.vendor&&/Apple/.test(nav.vendor)&&/Safari/.test(ua),isFirefoxWithPDFJS=!(isMobileDevice||!/irefox/.test(ua))&&parseInt(ua.split(\x22rv:\x22)[1].split(\x22.\x22)[0],10)>18,createAXO=function(type){var\x20ax;try{ax=new\x20ActiveXObject(type)}catch(e){ax=null}return\x20ax},supportsPDFs=!isMobileDevice&&(isFirefoxWithPDFJS||supportsPdfMimeType||isIE&&!(!createAXO(\x22AcroPDF.PDF\x22)&&!createAXO(\x22PDF.PdfCtrl\x22))),embedError=function(msg,suppressConsole){return\x20suppressConsole||console.log(\x22[PDFObject]\x20\x22+msg),!1},emptyNodeContents=function(node){for(;node.firstChild;)node.removeChild(node.firstChild)},generatePDFJSMarkup=function(targetNode,url,pdfOpenFragment,PDFJS_URL,id,omitInlineStyles){emptyNodeContents(targetNode);let\x20fullURL=PDFJS_URL+\x22?file=\x22+encodeURIComponent(url)+pdfOpenFragment,div=document.createElement(\x22div\x22),iframe=document.createElement(\x22iframe\x22);return\x20iframe.src=fullURL,iframe.className=\x22pdfobject\x22,iframe.type=\x22application/pdf\x22,iframe.frameborder=\x220\x22,id&&(iframe.id=id),omitInlineStyles||(div.style.cssText=\x22position:\x20absolute;\x20top:\x200;\x20right:\x200;\x20bottom:\x200;\x20left:\x200;\x22,iframe.style.cssText=\x22border:\x20none;\x20width:\x20100%;\x20height:\x20100%;\x22,/*targetNode.style.position=\x22relative\x22,*/targetNode.style.overflow=\x22auto\x22),div.appendChild(iframe),targetNode.appendChild(div),targetNode.classList.add(\x22pdfobject-container\x22),targetNode.getElementsByTagName(\x22iframe\x22)[0]},embed=function(url,targetSelector,options){let\x20selector=targetSelector||!1,opt=options||{},id=\x22string\x22==typeof\x20opt.id?opt.id:\x22\x22,page=opt.page||!1,pdfOpenParams=opt.pdfOpenParams||{},fallbackLink=opt.fallbackLink||!0,width=opt.width||\x22100%\x22,height=opt.height||\x22100%\x22,assumptionMode=\x22boolean\x22!=typeof\x20opt.assumptionMode||opt.assumptionMode,forcePDFJS=\x22boolean\x22==typeof\x20opt.forcePDFJS&&opt.forcePDFJS,supportRedirect=\x22boolean\x22==typeof\x20opt.supportRedirect&&opt.supportRedirect,omitInlineStyles=\x22boolean\x22==typeof\x20opt.omitInlineStyles&&opt.omitInlineStyles,suppressConsole=\x22boolean\x22==typeof\x20opt.suppressConsole&&opt.suppressConsole,forceIframe=\x22boolean\x22==typeof\x20opt.forceIframe&&opt.forceIframe,PDFJS_URL=opt.PDFJS_URL||!1,targetNode=function(targetSelector){let\x20targetNode=document.body;return\x22string\x22==typeof\x20targetSelector?targetNode=document.querySelector(targetSelector):void\x200!==window.jQuery&&targetSelector\x20instanceof\x20jQuery&&targetSelector.length?targetNode=targetSelector.get(0):void\x200!==targetSelector.nodeType&&1===targetSelector.nodeType&&(targetNode=targetSelector),targetNode}(selector),fallbackHTML=\x22\x22,pdfOpenFragment=\x22\x22;if(\x22string\x22!=typeof\x20url)return\x20embedError(\x22URL\x20is\x20not\x20valid\x22,suppressConsole);if(!targetNode)return\x20embedError(\x22Target\x20element\x20cannot\x20be\x20determined\x22,suppressConsole);if(page&&(pdfOpenParams.page=page),pdfOpenFragment=function(pdfParams){let\x20prop,string=\x22\x22;if(pdfParams){for(prop\x20in\x20pdfParams)pdfParams.hasOwnProperty(prop)&&(string+=encodeURIComponent(prop)+\x22=\x22+encodeURIComponent(pdfParams[prop])+\x22&\x22);string&&(string=(string=\x22#\x22+string).slice(0,string.length-1))}return\x20string}(pdfOpenParams),forcePDFJS&&PDFJS_URL)return\x20generatePDFJSMarkup(targetNode,url,pdfOpenFragment,PDFJS_URL,id,omitInlineStyles);if(supportsPDFs||assumptionMode&&isModernBrowser&&!isMobileDevice){return\x20function(embedType,targetNode,targetSelector,url,pdfOpenFragment,width,height,id,omitInlineStyles){emptyNodeContents(targetNode);let\x20embed=document.createElement(embedType);if(embed.src=url+pdfOpenFragment,embed.className=\x22pdfobject\x22,embed.type=\x22application/pdf\x22,id&&(embed.id=id),!omitInlineStyles){let\x20style=\x22embed\x22===embedType?\x22overflow:\x20auto;\x22:\x22border:\x20none;\x22;targetSelector&&targetSelector!==document.body?style+=\x22width:\x20\x22+width+\x22;\x20height:\x20\x22+height+\x22;\x22:style+=\x22position:\x20absolute;\x20top:\x200;\x20right:\x200;\x20bottom:\x200;\x20left:\x200;\x20width:\x20100%;\x20height:\x20100%;\x22,embed.style.cssText=style}return\x20targetNode.classList.add(\x22pdfobject-container\x22),targetNode.appendChild(embed),targetNode.getElementsByTagName(embedType)[0]}(forceIframe||supportRedirect&&isSafariDesktop?\x22iframe\x22:\x22embed\x22,targetNode,targetSelector,url,pdfOpenFragment,width,height,id,omitInlineStyles)}return\x20PDFJS_URL?generatePDFJSMarkup(targetNode,url,pdfOpenFragment,PDFJS_URL,id,omitInlineStyles):(fallbackLink&&(fallbackHTML=\x22string\x22==typeof\x20fallbackLink?fallbackLink:\x22<p>This\x20browser\x20does\x20not\x20support\x20inline\x20PDFs.\x20Please\x20download\x20the\x20PDF\x20to\x20view\x20it:\x20<a\x20href=\x27[url]\x27>Download\x20PDF</a></p>\x22,targetNode.innerHTML=fallbackHTML.replace(/\x5c[url\x5c]/g,url)),embedError(\x22This\x20browser\x20does\x20not\x20support\x20embedded\x20PDFs\x22,suppressConsole))};return{embed:function(a,b,c){return\x20embed(a,b,c)},pdfobjectversion:\x222.2.3\x22,supportsPDFs:supportsPDFs}});'+'if\x20(typeof\x20module\x20===\x20\x22object\x22\x20&&\x20module.exports)\x20{'+'this.PDFObject\x20=\x20module.exports;'+'}'+'PDFObject.embed(\x22'+BT+'\x22,\x20\x22#content\x22,\x20{'+(BY?'\x22PDFJS_URL\x22:\x20\x22'+new URL('lib/pdfjs/web/viewer.html',document['baseURI'])['href']+'\x22,\x20':'')+'\x22fallbackLink\x22:\x20\x22'+BZ+'\x22,'+'\x22forcePDFJS\x22:\x20'+C0+'});'+'if(!PDFObject.supportsPDFs\x20&&\x20!'+BY+'){'+'\x20var\x20iframeTimerId;'+'\x20function\x20startTimer(){'+'\x20\x20\x20\x20iframeTimerId\x20=\x20window.setTimeout(checkIframeLoaded,\x202000);'+'\x20}'+'\x20function\x20checkIframeLoaded(){\x20\x20'+'\x20\x20\x20\x20var\x20iframe\x20=\x20document.getElementById(\x22googleViewer\x22);'+'\x20\x20\x20\x20iframe.src\x20=\x20iframe.src;'+'\x20\x20\x20\x20iframeTimerId\x20=\x20window.setTimeout(checkIframeLoaded,\x202000);'+'\x20}'+'\x20document.getElementById(\x22googleViewer\x22).addEventListener(\x22load\x22,\x20function(){'+'\x20\x20\x20clearInterval(iframeTimerId);\x20'+'\x20});'+'\x20startTimer();'+'}'+'</script>';if(BV=='WebFrame'){BS['set']('url','data:text/html;charset=utf-8,'+encodeURIComponent('<!DOCTYPE\x20html>'+'<html>'+'<head></head>'+'<body\x20style=\x22height:100%;width:100%;overflow:hidden;margin:0px;background-color:rgb(82,\x2086,\x2089);\x22>'+C1+'</body>'+'</html>'));}else if(BV=='HTML'){BS['set']('content','data:text/html;charset=utf-8,'+encodeURIComponent(C1));}}};TDV['Tour']['Script']['getKey']=function(C2){return window[C2];};TDV['Tour']['Script']['registerKey']=function(C3,C4){window[C3]=C4;};TDV['Tour']['Script']['unregisterKey']=function(C5){delete window[C5];};TDV['Tour']['Script']['existsKey']=function(C6){return C6 in window;};function _getCurrentActiveModels(){var C7=this['getByClassName']('Model3DPlayer');var C8=[];for(var C9 of C7){var Ca=C9['get']('model');var Cb=C9['get']('viewerArea');if(Ca&&Ca['get']('isLoaded')&&Cb&&Cb['get']('visible'))C8['push'](Ca);}return C8;}function _onMeasureClick(Cc){var Cd=Cc['source'];var Ce=Cd['get']('mode');if(Ce!='create'){Cd['set']('mode',Ce=='view'?'edit':'view');console['log'](Cd['get']('mode'));}}function _forEachMeasureModel3DObject(Cf,Cg){if(!Cf)Cf=_getCurrentActiveModels['call'](this);Cf['forEach'](function(Ch){Ch['get']('objects')['forEach'](function(Ci){if(Ci['get']('class')=='MeasureModel3DObject')Cg(Ch,Ci);}['bind'](this));}['bind'](this));}function _deleteModel3DObjects(Cj,Ck){if(!Cj)Cj=_getCurrentActiveModels['call'](this);Cj['forEach'](function(Cl){var Cm=Cl['get']('objects');var Cn=Cm['filter'](function(Co){return!Ck['call'](this,Co);});if(Cn['length']!=Cm['length']){Cl['set']('objects',Cn);Cm['forEach'](function(Cp){if(Ck['call'](this,Cp))this['disposeInstance'](Cp);}['bind'](this));}}['bind'](this));}function _cloneMeasureModel3DObject(Cq){var Cr=this['clone'](Cq,Cq['getAttributeNames']()['filter'](function(Cs){return Cs!='id';}));Cr['set']('data',{'id':Cq['get']('id')});return Cr;}TDV['Tour']['Script']['startMeasurement']=function(Ct,Cu){if(!Ct)Ct=_getCurrentActiveModels['call'](this);var Cv={},Cw={},Cx={};Ct['forEach'](function(Cz){var CA=Cz['get']('objects');var CB=CA['findIndex'](function(CG){return CG['get']('class')=='MeasureModel3DObject'&&CG['get']('mode')=='create';});var CC=CB!=-0x1;if(CC){var CD=CA[CB];if(CD['get']('points')['length']==0x0){CA['splice'](CB,0x1);this['disposeInstance'](CD);}else CD['set']('mode','view');}CA['forEach'](function(CH){if(CH['get']('class')=='MeasureModel3DObject'&&CH['get']('mode')=='edit')CH['set']('mode','view');}['bind'](this));var CE=_cloneMeasureModel3DObject['call'](this,Cu);this['cloneBindings'](Cu,CE,'modeChange');CE['set']('mode','create');CE['bind']('click',_onMeasureClick,this);var CF=Cz['get']('camera');CE['bind']('modeChange',function CI(){if(CE['get']('mode')=='create'){Cv[Cz['get']('id')]=Cz['get']('surfaceSelectionEnabled');Cz['set']('surfaceSelectionEnabled',!![]);if(CF['get']('class')=='FlyOverModel3DCamera'){Cw[Cz['get']('id')]=CF['get']('doubleClickAction');CF['set']('doubleClickAction','none');}}else{CE['unbind']('modeChange',CI,this);Cz['set']('surfaceSelectionEnabled',Cv[Cz['get']('id')]);if(CF['get']('class')=='FlyOverModel3DCamera'){CF['set']('doubleClickAction',Cw[Cz['get']('id')]);}CA['forEach'](function(CJ){var CK=Cx[CJ['get']('id')];if(CK){CJ['set']('rollOverEnabled',CK['rollOverEnabled']);}});}},this);if(Ct['length']>0x0){CE['bind']('distanceChange',function CL(){CE['unbind']('distanceChange',CL,this);Cy['call'](this,Ct['filter'](CM=>CM!=Cz));},this);}CA['forEach'](function(CN){var CO=CN['get']('id');if(CO){Cx[CO]={'rollOverEnabled':CN['get']('rollOverEnabled')};CN['set']('rollOverEnabled',!![]);}});CA=CA['concat']();CA['push'](CE);Cz['set']('objects',CA);}['bind'](this));function Cy(CP){this['stopMeasurement'](CP);for(var CQ of CP){var CR=CQ['get']('id');CQ['set']('surfaceSelectionEnabled',Cv[CR]);if(CR in Cw)CQ['get']('camera')['set']('doubleClickAction',Cw[CR]);}}};TDV['Tour']['Script']['stopMeasurement']=function(CS){_deleteModel3DObjects['call'](this,CS,function(CT){return CT['get']('class')=='MeasureModel3DObject'&&CT['get']('mode')=='create'&&CT['get']('points')['length']==0x0;});_forEachMeasureModel3DObject['call'](this,CS,function(CU,CV){if(CV['get']('mode')=='create'){CV['set']('mode','edit');}});};TDV['Tour']['Script']['toggleMeasurement']=function(CW,CX){if(!CW)CW=_getCurrentActiveModels['call'](this);var CY=CW['some'](function(CZ){var D0=CZ['get']('objects');var D1=D0['find'](function(D2){return D2['get']('class')=='MeasureModel3DObject'&&D2['get']('mode')=='create';});return D1!=null;});if(!CY)this['startMeasurement'](CW,CX);else this['stopMeasurement'](CW);};TDV['Tour']['Script']['cleanAllMeasurements']=function(D3){_deleteModel3DObjects['call'](this,D3,function(D4){return D4['get']('class')=='MeasureModel3DObject';});};TDV['Tour']['Script']['cleanSelectedMeasurements']=function(D5){_deleteModel3DObjects['call'](this,D5,function(D6){return D6['get']('class')=='MeasureModel3DObject'&&D6['get']('mode')=='edit';});};TDV['Tour']['Script']['setMeasurementsVisibility']=function(D7,D8){_forEachMeasureModel3DObject['call'](this,D7,function(D9,Da){Da['set']('enabled',D8);});};TDV['Tour']['Script']['toggleMeasurementsVisibility']=function(Db){_forEachMeasureModel3DObject['call'](this,Db,function(Dc,Dd){Dd['set']('enabled',!Dd['get']('enabled'));});};TDV['Tour']['Script']['setMeasurementUnits']=function(De){_forEachMeasureModel3DObject['call'](this,null,function(Df,Dg){Dg['set']('units',De);});};
//# sourceMappingURL=script_v2023.2.8.js.map
//Generated with v2023.2.8, Thu Feb 15 2024

var tour;
var devicesUrl = {"mobile":"script_mobile.js?v=1708044424741","general":"script_general.js?v=1708044424741"};

(function()
{
    var deviceType = ['general'];
    if(TDV.PlayerAPI.mobile)
        deviceType.unshift('mobile');
    if(TDV.PlayerAPI.device == TDV.PlayerAPI.DEVICE_IPAD)
        deviceType.unshift('ipad');
    var url;
    for(var i=0; i<deviceType.length; ++i) {
        var d = deviceType[i];
        if(d in devicesUrl) {
            url = devicesUrl[d];
            break;
        }
    }
    if(typeof url == "object") {
        var orient = TDV.PlayerAPI.getOrientation();
        if(orient in url) {
            url = url[orient];
        }
    }
    var link = document.createElement('link');
    link.rel = 'preload';
    link.href = url;
    link.as = 'script';
    var el = document.getElementsByTagName('script')[0];
    el.parentNode.insertBefore(link, el);
})();

function loadTour()
{
    if(tour) return;

    if (/AppleWebKit/.test(navigator.userAgent) && /Mobile\/\w+/.test(navigator.userAgent)) {
        var preloadContainer = document.getElementById('preloadContainer');
        if(preloadContainer)
            document.body.style.backgroundColor = window.getComputedStyle(preloadContainer).backgroundColor;
    }

    var settings = new TDV.PlayerSettings();
    settings.set(TDV.PlayerSettings.CONTAINER, document.getElementById('viewer'));
    settings.set(TDV.PlayerSettings.WEBVR_POLYFILL_URL, 'lib/WebVRPolyfill.js?v=1708044424741');
    settings.set(TDV.PlayerSettings.HLS_URL, 'lib/Hls.js?v=1708044424741');
    settings.set(TDV.PlayerSettings.QUERY_STRING_PARAMETERS, 'v=1708044424741');

    tour = new TDV.Tour(settings, devicesUrl);
    tour.bind(TDV.Tour.EVENT_TOUR_INITIALIZED, onVirtualTourInit);
    tour.bind(TDV.Tour.EVENT_TOUR_LOADED, onVirtualTourLoaded);
    tour.bind(TDV.Tour.EVENT_TOUR_ENDED, onVirtualTourEnded);
    tour.load();
}

function pauseTour()
{
    if(!tour)
        return;

    tour.pause();
}

function resumeTour()
{
    if(!tour)
        return;

    tour.resume();
}

function onVirtualTourInit()
{
    var updateTexts = function() {
        document.title = this.trans("tour.name")
    };

    tour.locManager.bind(TDV.Tour.LocaleManager.EVENT_LOCALE_CHANGED, updateTexts.bind(tour.locManager));
    if(TDV.Remote) TDV.Remote.start(tour.player, "fbuspyf140d1");
    if (tour.player.cookiesEnabled)
        enableCookies();
    else
        tour.player.bind('enableCookies', enableCookies);
}

function onVirtualTourLoaded()
{
    disposePreloader();
}

function onVirtualTourEnded()
{

}

function enableCookies()
{
    
}

function setMediaByIndex(index) {
    if(!tour)
        return;

    tour.setMediaByIndex(index);
}

function setMediaByName(name)
{
    if(!tour)
        return;

    tour.setMediaByName(name);
}

function showPreloader()
{
    var preloadContainer = document.getElementById('preloadContainer');
    if(preloadContainer != undefined)
        preloadContainer.style.opacity = 1;
}

function disposePreloader()
{
    var preloadContainer = document.getElementById('preloadContainer');
    if(preloadContainer == undefined)
        return;

    var transitionEndName = transitionEndEventName();
    if(transitionEndName)
    {
        preloadContainer.addEventListener(transitionEndName, hide, false);
        preloadContainer.style.opacity = 0;
        setTimeout(hide, 500); //Force hide. Some cases the transitionend event isn't dispatched with an iFrame.
    }
    else
    {
        hide();
    }

    function hide()
    {
        
        document.body.style.backgroundColor = window.getComputedStyle(preloadContainer).backgroundColor;
        preloadContainer.style.visibility = 'hidden';
        preloadContainer.style.display = 'none';
        var videoList = preloadContainer.getElementsByTagName("video");
        for(var i=0; i<videoList.length; ++i)
        {
            var video = videoList[i];
            video.pause();
            while (video.children.length)
                video.removeChild(video.children[0]);
        }
    }

    function transitionEndEventName () {
        var el = document.createElement('div');
        var transitions = {
            'transition':'transitionend',
            'OTransition':'otransitionend',
            'MozTransition':'transitionend',
            'WebkitTransition':'webkitTransitionEnd'
        };

        var t;
        for (t in transitions) {
            if (el.style[t] !== undefined) {
                return transitions[t];
            }
        }

        return undefined;
    }
}

function onBodyClick(){
    document.body.removeEventListener("click", onBodyClick);
    document.body.removeEventListener("touchend", onBodyClick);
    
}

function onLoad() {
    if (/AppleWebKit/.test(navigator.userAgent) && /Mobile\/\w+/.test(navigator.userAgent))
    {
        var onOrientationChange = function()
        {
            document.documentElement.style.height = 'initial';
            document.body.style.height = 'initial';
            Array.from(document.querySelectorAll('.fill-viewport')).forEach(function(element)
            {
                element.classList.toggle('landscape-right', window.orientation == -90);
                element.classList.toggle('landscape-left', window.orientation == 90);
            });
            setTimeout(function()
            {
                document.documentElement.style.height = '100%';
                document.body.style.height = undefined;
            }, 500);
        };
        window.addEventListener('orientationchange', onOrientationChange);
        onOrientationChange();
    }

    var params = getParams(location.search.substr(1));
    if(params.hasOwnProperty("skip-loading"))
    {
        loadTour();
        disposePreloader();
        return;
    }

    if (isOVRWeb()){
        showPreloader();
        loadTour();
        return;
    }

    showPreloader();
			loadTour();
}



function playVideo(video, autoplayMuted, clickComponent) {
    function hasAudio (video) {
        return video.mozHasAudio ||
               Boolean(video.webkitAudioDecodedByteCount) ||
               Boolean(video.audioTracks && video.audioTracks.length);
    }

    function detectUserAction() {
        var component = clickComponent || document.getElementById('preloadContainer');
        var onVideoClick = function(e) {
            if(video.paused) {
                video.play();
            }
            video.muted = false;
            if(hasAudio(video))
            {
                e.stopPropagation();
                e.stopImmediatePropagation();
                e.preventDefault();
            }

            component.removeEventListener('click', onVideoClick);
            component.removeEventListener('touchend', onVideoClick);

            if(component == clickComponent) {
                setComponentVisibility(false);
            }
        };
        component.addEventListener("click", onVideoClick);
        component.addEventListener("touchend", onVideoClick);
    }

    function setComponentVisibility(visible) {
        clickComponent.style.visibility = visible ? 'visible' : 'hidden';
    }

    var canPlay = true;
    var promise = video.play();
    if (promise) {
        promise.catch(function() {
            if(clickComponent)
                setComponentVisibility(true);
            canPlay = false;
            if(autoplayMuted) {
                video.muted = true;
                video.play();
            }
            detectUserAction();
        });
    } else {
        canPlay = false;
    }

    if (!canPlay || video.muted) {
        detectUserAction();
    } else if(clickComponent) {
        setComponentVisibility(false);
    }
}

function isOVRWeb(){
    return window.location.hash.substring(1).split('&').indexOf('ovrweb') > -1;
}

function getParams(params) {
    var queryDict = {}; params.split("&").forEach(function(item) {var k = item.split("=")[0], v = decodeURIComponent(item.split("=")[1]);queryDict[k.toLowerCase()] = v});
    return queryDict;
}

document.addEventListener('DOMContentLoaded', onLoad);